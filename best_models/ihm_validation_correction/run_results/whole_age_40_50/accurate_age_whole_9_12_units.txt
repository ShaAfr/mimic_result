****************nine_unit***********
Using TensorFlow backend.
Namespace(batch_norm=False, batch_size=8, beta_1=0.9, data='/home/danfeng/sharmin/anothermimic/mimic3-benchmarks/mimic3models/in_hospital_mortality/../../data/in-hospital-mortality/', depth=2, dim=16, dropout=0.3, epochs=100, imputation='previous', l1=0, l2=0, load_state='', lr=0.001, mode='train', network='mimic3models/keras_models/lstm.py', normalizer_state=None, optimizer='adam', output_dir='mimic3models/in_hospital_mortality', prefix='', rec_dropout=0.0, save_every=1, size_coef=4.0, small_part=False, target_repl_coef=0.0, timestep=1.0, verbose=2)
==> using model mimic3models/keras_models/lstm.py
==> not used params in network class: dict_keys(['header', 'load_state', 'mode', 'output_dir', 'lr', 'size_coef', 'verbose', 'small_part', 'beta_1', 'imputation', 'save_every', 'timestep', 'normalizer_state', 'data', 'optimizer', 'epochs', 'target_repl_coef', 'network', 'batch_size', 'prefix', 'l1', 'l2'])
WARNING:tensorflow:From /home/danfeng/anaconda3/envs/shaenvgpu/lib/python3.5/site-packages/keras/backend/tensorflow_backend.py:1364: calling reduce_any (from tensorflow.python.ops.math_ops) with keep_dims is deprecated and will be removed in a future version.
Instructions for updating:
keep_dims is deprecated, use keepdims instead
WARNING:tensorflow:From /home/danfeng/anaconda3/envs/shaenvgpu/lib/python3.5/site-packages/keras/backend/tensorflow_backend.py:1247: calling reduce_sum (from tensorflow.python.ops.math_ops) with keep_dims is deprecated and will be removed in a future version.
Instructions for updating:
keep_dims is deprecated, use keepdims instead
==> model.final_name: k_lstm.n16.d0.3.dep2.bs8.ts1.0
==> compiling the model
WARNING:tensorflow:From /home/danfeng/anaconda3/envs/shaenvgpu/lib/python3.5/site-packages/keras/backend/tensorflow_backend.py:1349: calling reduce_mean (from tensorflow.python.ops.math_ops) with keep_dims is deprecated and will be removed in a future version.
Instructions for updating:
keep_dims is deprecated, use keepdims instead
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
X (InputLayer)               (None, None, 76)          0         
_________________________________________________________________
masking_1 (Masking)          (None, None, 76)          0         
_________________________________________________________________
bidirectional_1 (Bidirection (None, None, 16)          5440      
_________________________________________________________________
lstm_2 (LSTM)                (None, 16)                2112      
_________________________________________________________________
dropout_1 (Dropout)          (None, 16)                0         
_________________________________________________________________
dense_1 (Dense)              (None, 1)                 17        
=================================================================
Total params: 7,569
Trainable params: 7,569
Non-trainable params: 0
_________________________________________________________________
==> training
Train on 26585 samples, validate on 3222 samples
Epoch 1/100
2020-08-19 19:31:14.843730: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 AVX512F FMA
2020-08-19 19:31:14.976016: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:897] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2020-08-19 19:31:14.976776: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1405] Found device 0 with properties: 
name: GRID P40-12Q major: 6 minor: 1 memoryClockRate(GHz): 1.531
pciBusID: 0000:00:0a.0
totalMemory: 12.00GiB freeMemory: 383.86MiB
2020-08-19 19:31:14.976800: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1484] Adding visible gpu devices: 0
2020-08-19 19:31:15.227743: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Device interconnect StreamExecutor with strength 1 edge matrix:
2020-08-19 19:31:15.227826: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971]      0 
2020-08-19 19:31:15.227835: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] 0:   N 
2020-08-19 19:31:15.228009: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1097] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 96 MB memory) -> physical GPU (device: 0, name: GRID P40-12Q, pci bus id: 0000:00:0a.0, compute capability: 6.1)

==>predicting on train


confusion matrix:
[[23143   303]
 [ 2520   619]]
accuracy = 0.8938122987747192
precision class 0 = 0.9018041491508484
precision class 1 = 0.6713665723800659
recall class 0 = 0.9870766997337341
recall class 1 = 0.19719655811786652
AUC of ROC = 0.851382489888106
AUC of PRC = 0.5059823010338669
min(+P, Se) = 0.5039821599235426

==>predicting on validation


confusion matrix:
[[2753   33]
 [ 364   72]]
accuracy = 0.87678462266922
precision class 0 = 0.8832210302352905
precision class 1 = 0.6857143044471741
recall class 0 = 0.9881550669670105
recall class 1 = 0.1651376187801361
AUC of ROC = 0.8296413258955326
AUC of PRC = 0.49556845306631114
min(+P, Se) = 0.48642533936651583
Epoch 00001: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch1.test0.31993064824503303.state
 - 1103s - loss: 0.3093 - val_loss: 0.3199
Epoch 2/100

==>predicting on train


confusion matrix:
[[23261   185]
 [ 2457   682]]
accuracy = 0.9006206393241882
precision class 0 = 0.9044638276100159
precision class 1 = 0.786620557308197
recall class 0 = 0.9921095371246338
recall class 1 = 0.21726664900779724
AUC of ROC = 0.8685800401032684
AUC of PRC = 0.5614091264409999
min(+P, Se) = 0.5352112676056338

==>predicting on validation


confusion matrix:
[[2759   27]
 [ 355   81]]
accuracy = 0.8814401030540466
precision class 0 = 0.8859987258911133
precision class 1 = 0.75
recall class 0 = 0.9903087019920349
recall class 1 = 0.18577980995178223
AUC of ROC = 0.8378310293275025
AUC of PRC = 0.5214065271144218
min(+P, Se) = 0.5022935779816514
Epoch 00002: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch2.test0.3092723472112088.state
 - 1107s - loss: 0.2786 - val_loss: 0.3093
Epoch 3/100

==>predicting on train


confusion matrix:
[[23142   304]
 [ 2181   958]]
accuracy = 0.9065262079238892
precision class 0 = 0.9138727784156799
precision class 1 = 0.759112536907196
recall class 0 = 0.987034022808075
recall class 1 = 0.3051927387714386
AUC of ROC = 0.879567934527326
AUC of PRC = 0.5907479391203453
min(+P, Se) = 0.5555909525326537

==>predicting on validation


confusion matrix:
[[2733   53]
 [ 345   91]]
accuracy = 0.8764742612838745
precision class 0 = 0.88791424036026
precision class 1 = 0.6319444179534912
recall class 0 = 0.9809762835502625
recall class 1 = 0.20871560275554657
AUC of ROC = 0.8448006744074237
AUC of PRC = 0.5076033320708561
min(+P, Se) = 0.4866666666666667
Epoch 00003: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch3.test0.31776179974028074.state
 - 1092s - loss: 0.2681 - val_loss: 0.3178
Epoch 4/100

==>predicting on train


confusion matrix:
[[23275   171]
 [ 2271   868]]
accuracy = 0.9081436991691589
precision class 0 = 0.9111015200614929
precision class 1 = 0.835418701171875
recall class 0 = 0.9927066564559937
recall class 1 = 0.2765211760997772
AUC of ROC = 0.8905138435409468
AUC of PRC = 0.6211371824930768
min(+P, Se) = 0.5696682464454976

==>predicting on validation


confusion matrix:
[[2743   43]
 [ 344   92]]
accuracy = 0.8798882961273193
precision class 0 = 0.888564944267273
precision class 1 = 0.6814814805984497
recall class 0 = 0.9845656752586365
recall class 1 = 0.2110091745853424
AUC of ROC = 0.8498570835830529
AUC of PRC = 0.5181075281833636
min(+P, Se) = 0.4908256880733945
Epoch 00004: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch4.test0.3023482373297621.state
 - 1096s - loss: 0.2610 - val_loss: 0.3023
Epoch 5/100

==>predicting on train


confusion matrix:
[[22940   506]
 [ 1772  1367]]
accuracy = 0.9143126010894775
precision class 0 = 0.9282939434051514
precision class 1 = 0.7298451662063599
recall class 0 = 0.9784184694290161
recall class 1 = 0.4354889988899231
AUC of ROC = 0.8998060165337731
AUC of PRC = 0.6437043716028413
min(+P, Se) = 0.5896782414781777

==>predicting on validation


confusion matrix:
[[2694   92]
 [ 305  131]]
accuracy = 0.87678462266922
precision class 0 = 0.8982994556427002
precision class 1 = 0.5874439477920532
recall class 0 = 0.9669777750968933
recall class 1 = 0.30045872926712036
AUC of ROC = 0.8504144246790968
AUC of PRC = 0.5122024481722659
min(+P, Se) = 0.49770642201834864
Epoch 00005: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch5.test0.2946007408243318.state
 - 1099s - loss: 0.2532 - val_loss: 0.2946
Epoch 6/100

==>predicting on train


confusion matrix:
[[23107   339]
 [ 1956  1183]]
accuracy = 0.9136731028556824
precision class 0 = 0.9219566583633423
precision class 1 = 0.7772667407989502
recall class 0 = 0.9855412244796753
recall class 1 = 0.37687161564826965
AUC of ROC = 0.9003787844922035
AUC of PRC = 0.6495502358468754
min(+P, Se) = 0.5915896782414781

==>predicting on validation


confusion matrix:
[[2712   74]
 [ 317  119]]
accuracy = 0.8786467909812927
precision class 0 = 0.8953449726104736
precision class 1 = 0.6165803074836731
recall class 0 = 0.9734386205673218
recall class 1 = 0.27293577790260315
AUC of ROC = 0.8505683726627895
AUC of PRC = 0.5106774859436535
min(+P, Se) = 0.5045662100456622
Epoch 00006: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch6.test0.29628345981693505.state
 - 1090s - loss: 0.2508 - val_loss: 0.2963
Epoch 7/100

==>predicting on train


confusion matrix:
[[22804   642]
 [ 1561  1578]]
accuracy = 0.9171337485313416
precision class 0 = 0.9359326958656311
precision class 1 = 0.7108108401298523
recall class 0 = 0.9726179242134094
recall class 1 = 0.502707839012146
AUC of ROC = 0.9096239718703729
AUC of PRC = 0.6712073378026547
min(+P, Se) = 0.6079617834394905

==>predicting on validation


confusion matrix:
[[2655  131]
 [ 275  161]]
accuracy = 0.8739913105964661
precision class 0 = 0.9061433672904968
precision class 1 = 0.551369845867157
recall class 0 = 0.9529792070388794
recall class 1 = 0.3692660629749298
AUC of ROC = 0.8502588301929043
AUC of PRC = 0.5063368436467333
min(+P, Se) = 0.48853211009174313
Epoch 00007: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch7.test0.2961620952839218.state
 - 1099s - loss: 0.2438 - val_loss: 0.2962
Epoch 8/100

==>predicting on train


confusion matrix:
[[22927   519]
 [ 1641  1498]]
accuracy = 0.9187511801719666
precision class 0 = 0.933205783367157
precision class 1 = 0.7426871657371521
recall class 0 = 0.9778640270233154
recall class 1 = 0.4772220551967621
AUC of ROC = 0.9109215452468072
AUC of PRC = 0.6706395231545903
min(+P, Se) = 0.6267515923566879

==>predicting on validation


confusion matrix:
[[2692   94]
 [ 291  145]]
accuracy = 0.8805090188980103
precision class 0 = 0.9024472236633301
precision class 1 = 0.6066945791244507
recall class 0 = 0.9662598967552185
recall class 1 = 0.33256879448890686
AUC of ROC = 0.8497311261418495
AUC of PRC = 0.5150812454780391
min(+P, Se) = 0.4897025171624714
Epoch 00008: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch8.test0.2980733915589967.state
 - 1094s - loss: 0.2421 - val_loss: 0.2981
Epoch 9/100

==>predicting on train


confusion matrix:
[[23026   420]
 [ 1671  1468]]
accuracy = 0.9213466048240662
precision class 0 = 0.9323399662971497
precision class 1 = 0.7775423526763916
recall class 0 = 0.9820864796638489
recall class 1 = 0.4676648676395416
AUC of ROC = 0.9122465653964072
AUC of PRC = 0.684835042089696
min(+P, Se) = 0.6224912392481682

==>predicting on validation


confusion matrix:
[[2679  107]
 [ 295  141]]
accuracy = 0.8752327561378479
precision class 0 = 0.9008070230484009
precision class 1 = 0.5685483813285828
recall class 0 = 0.9615936875343323
recall class 1 = 0.3233945071697235
AUC of ROC = 0.8461796202506636
AUC of PRC = 0.5050380191822532
min(+P, Se) = 0.48853211009174313
Epoch 00009: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch9.test0.3084261564851214.state
 - 1100s - loss: 0.2399 - val_loss: 0.3084
Epoch 10/100

==>predicting on train


confusion matrix:
[[23097   349]
 [ 1726  1413]]
accuracy = 0.9219484925270081
precision class 0 = 0.9304677248001099
precision class 1 = 0.8019296526908875
recall class 0 = 0.9851147532463074
recall class 1 = 0.45014336705207825
AUC of ROC = 0.9159690543882811
AUC of PRC = 0.6934494713571896
min(+P, Se) = 0.6266326855686525

==>predicting on validation


confusion matrix:
[[2695   91]
 [ 295  141]]
accuracy = 0.8801986575126648
precision class 0 = 0.9013378024101257
precision class 1 = 0.607758641242981
recall class 0 = 0.9673366546630859
recall class 1 = 0.3233945071697235
AUC of ROC = 0.8509577705038955
AUC of PRC = 0.5204870306717048
min(+P, Se) = 0.4897025171624714
Epoch 00010: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch10.test0.2938925400977546.state
 - 1096s - loss: 0.2380 - val_loss: 0.2939
Epoch 11/100

==>predicting on train


confusion matrix:
[[23217   229]
 [ 1840  1299]]
accuracy = 0.9221741557121277
precision class 0 = 0.9265674352645874
precision class 1 = 0.8501309156417847
recall class 0 = 0.9902328848838806
recall class 1 = 0.413826048374176
AUC of ROC = 0.915220695019147
AUC of PRC = 0.6984600091590198
min(+P, Se) = 0.6380892122745967

==>predicting on validation


confusion matrix:
[[2720   66]
 [ 320  116]]
accuracy = 0.8801986575126648
precision class 0 = 0.8947368264198303
precision class 1 = 0.6373626589775085
recall class 0 = 0.976310133934021
recall class 1 = 0.26605504751205444
AUC of ROC = 0.8515002930774449
AUC of PRC = 0.514037028592678
min(+P, Se) = 0.49311926605504586
Epoch 00011: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch11.test0.2982336849778946.state
 - 1096s - loss: 0.2356 - val_loss: 0.2982
Epoch 12/100

==>predicting on train


confusion matrix:
[[23131   315]
 [ 1713  1426]]
accuracy = 0.9237163662910461
precision class 0 = 0.9310497641563416
precision class 1 = 0.819069504737854
recall class 0 = 0.9865648746490479
recall class 1 = 0.45428481698036194
AUC of ROC = 0.9187569128163033
AUC of PRC = 0.7029451535509064
min(+P, Se) = 0.6384198789423383

==>predicting on validation


confusion matrix:
[[2698   88]
 [ 299  137]]
accuracy = 0.8798882961273193
precision class 0 = 0.9002335667610168
precision class 1 = 0.6088888645172119
recall class 0 = 0.9684134721755981
recall class 1 = 0.3142201900482178
AUC of ROC = 0.8546978009312617
AUC of PRC = 0.5222526097136898
min(+P, Se) = 0.5022935779816514
Epoch 00012: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch12.test0.29386033583027765.state
 - 1100s - loss: 0.2328 - val_loss: 0.2939
Epoch 13/100

==>predicting on train


confusion matrix:
[[23255   191]
 [ 1858  1281]]
accuracy = 0.9229264855384827
precision class 0 = 0.9260144233703613
precision class 1 = 0.870244562625885
recall class 0 = 0.9918535947799683
recall class 1 = 0.4080917537212372
AUC of ROC = 0.9135714360833813
AUC of PRC = 0.6986884855978698
min(+P, Se) = 0.6234469576298184

==>predicting on validation


confusion matrix:
[[2718   68]
 [ 317  119]]
accuracy = 0.8805090188980103
precision class 0 = 0.8955519199371338
precision class 1 = 0.6363636255264282
recall class 0 = 0.9755922555923462
recall class 1 = 0.27293577790260315
AUC of ROC = 0.8559483195795491
AUC of PRC = 0.5230434660433263
min(+P, Se) = 0.4885844748858447
Epoch 00013: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch13.test0.32309539403135107.state
 - 1090s - loss: 0.2299 - val_loss: 0.3231
Epoch 14/100

==>predicting on train


confusion matrix:
[[23061   385]
 [ 1613  1526]]
accuracy = 0.9248448610305786
precision class 0 = 0.9346275329589844
precision class 1 = 0.7985348105430603
recall class 0 = 0.9835792779922485
recall class 1 = 0.4861420691013336
AUC of ROC = 0.9213636157476758
AUC of PRC = 0.7132193414957195
min(+P, Se) = 0.650844217903791

==>predicting on validation


confusion matrix:
[[2679  107]
 [ 284  152]]
accuracy = 0.8786467909812927
precision class 0 = 0.904151201248169
precision class 1 = 0.5868725776672363
recall class 0 = 0.9615936875343323
recall class 1 = 0.3486238420009613
AUC of ROC = 0.8500612498929774
AUC of PRC = 0.5181404354328212
min(+P, Se) = 0.48623853211009177
Epoch 00014: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch14.test0.29342655733939954.state
 - 1094s - loss: 0.2293 - val_loss: 0.2934
Epoch 15/100

==>predicting on train


confusion matrix:
[[23252   194]
 [ 1846  1293]]
accuracy = 0.9232649803161621
precision class 0 = 0.9264483451843262
precision class 1 = 0.8695359826087952
recall class 0 = 0.9917256832122803
recall class 1 = 0.4119146168231964
AUC of ROC = 0.9215135335554602
AUC of PRC = 0.7168453137888856
min(+P, Se) = 0.6496350364963503

==>predicting on validation


confusion matrix:
[[2718   68]
 [ 316  120]]
accuracy = 0.8808193802833557
precision class 0 = 0.8958470821380615
precision class 1 = 0.6382978558540344
recall class 0 = 0.9755922555923462
recall class 1 = 0.2752293646335602
AUC of ROC = 0.848259976158644
AUC of PRC = 0.517803044460141
min(+P, Se) = 0.4965986394557823
Epoch 00015: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch15.test0.3057805040352911.state
 - 1097s - loss: 0.2271 - val_loss: 0.3058
Epoch 16/100

==>predicting on train


confusion matrix:
[[23171   275]
 [ 1636  1503]]
accuracy = 0.9281173348426819
precision class 0 = 0.9340508580207825
precision class 1 = 0.8453318476676941
recall class 0 = 0.9882709383964539
recall class 1 = 0.47881489992141724
AUC of ROC = 0.9230165908678281
AUC of PRC = 0.7283885934677418
min(+P, Se) = 0.6612698412698412

==>predicting on validation


confusion matrix:
[[2693   93]
 [ 301  135]]
accuracy = 0.8777157068252563
precision class 0 = 0.8994656205177307
precision class 1 = 0.5921052694320679
recall class 0 = 0.9666188359260559
recall class 1 = 0.3096330165863037
AUC of ROC = 0.8562809130844261
AUC of PRC = 0.5228119971418753
min(+P, Se) = 0.4908256880733945
Epoch 00016: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch16.test0.3059587216618674.state
 - 1090s - loss: 0.2289 - val_loss: 0.3060
Epoch 17/100

==>predicting on train


confusion matrix:
[[23177   269]
 [ 1737  1402]]
accuracy = 0.9245439171791077
precision class 0 = 0.9302801489830017
precision class 1 = 0.8390185236930847
recall class 0 = 0.9885268211364746
recall class 1 = 0.4466390609741211
AUC of ROC = 0.9240528356361946
AUC of PRC = 0.7193648237366124
min(+P, Se) = 0.6451099076138898

==>predicting on validation


confusion matrix:
[[2708   78]
 [ 306  130]]
accuracy = 0.8808193802833557
precision class 0 = 0.8984737992286682
precision class 1 = 0.625
recall class 0 = 0.9720028638839722
recall class 1 = 0.29816514253616333
AUC of ROC = 0.8539494655452888
AUC of PRC = 0.5204239703601296
min(+P, Se) = 0.49099099099099097
Epoch 00017: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch17.test0.3061388307647036.state
 - 1107s - loss: 0.2258 - val_loss: 0.3061
Epoch 18/100

==>predicting on train


confusion matrix:
[[23204   242]
 [ 1672  1467]]
accuracy = 0.9280045032501221
precision class 0 = 0.9327866435050964
precision class 1 = 0.8583967089653015
recall class 0 = 0.9896783828735352
recall class 1 = 0.46734628081321716
AUC of ROC = 0.9271217449451808
AUC of PRC = 0.7310418451130187
min(+P, Se) = 0.6541732283464567

==>predicting on validation


confusion matrix:
[[2715   71]
 [ 314  122]]
accuracy = 0.8805090188980103
precision class 0 = 0.8963354229927063
precision class 1 = 0.6321243643760681
recall class 0 = 0.974515438079834
recall class 1 = 0.27981650829315186
AUC of ROC = 0.8568382541804698
AUC of PRC = 0.5304179304166756
min(+P, Se) = 0.5045454545454545
Epoch 00018: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch18.test0.3058058733778441.state
 - 1091s - loss: 0.2225 - val_loss: 0.3058
Epoch 19/100

==>predicting on train


confusion matrix:
[[23138   308]
 [ 1611  1528]]
accuracy = 0.9278164505958557
precision class 0 = 0.9349064826965332
precision class 1 = 0.8322439789772034
recall class 0 = 0.9868634343147278
recall class 1 = 0.48677924275398254
AUC of ROC = 0.9292210901983307
AUC of PRC = 0.7344461399784179
min(+P, Se) = 0.6607199745141765

==>predicting on validation


confusion matrix:
[[2687   99]
 [ 295  141]]
accuracy = 0.8777157068252563
precision class 0 = 0.9010730981826782
precision class 1 = 0.5874999761581421
recall class 0 = 0.9644652009010315
recall class 1 = 0.3233945071697235
AUC of ROC = 0.851292010511272
AUC of PRC = 0.5225120692566172
min(+P, Se) = 0.48268398268398266
Epoch 00019: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch19.test0.3024636889090455.state
 - 1097s - loss: 0.2223 - val_loss: 0.3025
Epoch 20/100

==>predicting on train


confusion matrix:
[[23250   196]
 [ 1763  1376]]
accuracy = 0.9263118505477905
precision class 0 = 0.9295166730880737
precision class 1 = 0.8753180503845215
recall class 0 = 0.9916403889656067
recall class 1 = 0.4383561611175537
AUC of ROC = 0.9242861332081036
AUC of PRC = 0.7313801153114416
min(+P, Se) = 0.6642242752468939

==>predicting on validation


confusion matrix:
[[2717   69]
 [ 316  120]]
accuracy = 0.8805090188980103
precision class 0 = 0.8958127498626709
precision class 1 = 0.6349206566810608
recall class 0 = 0.9752333164215088
recall class 1 = 0.2752293646335602
AUC of ROC = 0.8538354452472059
AUC of PRC = 0.5146497208713283
min(+P, Se) = 0.5045871559633027
Epoch 00020: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch20.test0.3060311580378583.state
 - 1102s - loss: 0.2214 - val_loss: 0.3060
Epoch 21/100

==>predicting on train


confusion matrix:
[[23211   235]
 [ 1671  1468]]
accuracy = 0.928305447101593
precision class 0 = 0.932843029499054
precision class 1 = 0.8620082139968872
recall class 0 = 0.9899769425392151
recall class 1 = 0.4676648676395416
AUC of ROC = 0.9301102637425653
AUC of PRC = 0.7432538044917184
min(+P, Se) = 0.6754777070063694

==>predicting on validation


confusion matrix:
[[2708   78]
 [ 306  130]]
accuracy = 0.8808193802833557
precision class 0 = 0.8984737992286682
precision class 1 = 0.625
recall class 0 = 0.9720028638839722
recall class 1 = 0.29816514253616333
AUC of ROC = 0.8545356204350718
AUC of PRC = 0.514237427255972
min(+P, Se) = 0.48853211009174313
Epoch 00021: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch21.test0.30319395906006896.state
 - 1082s - loss: 0.2212 - val_loss: 0.3032
Epoch 22/100

==>predicting on train


confusion matrix:
[[23229   217]
 [ 1672  1467]]
accuracy = 0.9289448857307434
precision class 0 = 0.9328541159629822
precision class 1 = 0.8711401224136353
recall class 0 = 0.9907447099685669
recall class 1 = 0.46734628081321716
AUC of ROC = 0.9318511704431842
AUC of PRC = 0.7470173526660258
min(+P, Se) = 0.6782414781777636

==>predicting on validation


confusion matrix:
[[2709   77]
 [ 304  132]]
accuracy = 0.8817504644393921
precision class 0 = 0.8991038799285889
precision class 1 = 0.6315789222717285
recall class 0 = 0.9723618030548096
recall class 1 = 0.302752286195755
AUC of ROC = 0.8501987328516764
AUC of PRC = 0.5130948249093131
min(+P, Se) = 0.48394495412844035
Epoch 00022: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch22.test0.3057129465316409.state
 - 1105s - loss: 0.2188 - val_loss: 0.3057
Epoch 23/100

==>predicting on train


confusion matrix:
[[23202   244]
 [ 1581  1558]]
accuracy = 0.9313522577285767
precision class 0 = 0.9362062811851501
precision class 1 = 0.8645948767662048
recall class 0 = 0.9895930886268616
recall class 1 = 0.4963364005088806
AUC of ROC = 0.9344373766135069
AUC of PRC = 0.7575778333713972
min(+P, Se) = 0.6898089171974522

==>predicting on validation


confusion matrix:
[[2693   93]
 [ 299  137]]
accuracy = 0.8783364295959473
precision class 0 = 0.9000668525695801
precision class 1 = 0.595652163028717
recall class 0 = 0.9666188359260559
recall class 1 = 0.3142201900482178
AUC of ROC = 0.8503032857603877
AUC of PRC = 0.5111423035511456
min(+P, Se) = 0.4897025171624714
Epoch 00023: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch23.test0.31211377284879793.state
 - 1102s - loss: 0.2189 - val_loss: 0.3121
Epoch 24/100

==>predicting on train


confusion matrix:
[[23214   232]
 [ 1608  1531]]
accuracy = 0.9307880401611328
precision class 0 = 0.9352187514305115
precision class 1 = 0.8684061169624329
recall class 0 = 0.9901049137115479
recall class 1 = 0.48773494362831116
AUC of ROC = 0.9327003899099466
AUC of PRC = 0.7556004823326271
min(+P, Se) = 0.6852500796431985

==>predicting on validation


confusion matrix:
[[2703   83]
 [ 304  132]]
accuracy = 0.8798882961273193
precision class 0 = 0.8989025354385376
precision class 1 = 0.6139534711837769
recall class 0 = 0.9702081680297852
recall class 1 = 0.302752286195755
AUC of ROC = 0.8520922107259759
AUC of PRC = 0.5270375753867164
min(+P, Se) = 0.5124716553287982
Epoch 00024: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch24.test0.30244509171645956.state
 - 1098s - loss: 0.2147 - val_loss: 0.3024
Epoch 25/100

==>predicting on train


confusion matrix:
[[23204   242]
 [ 1553  1586]]
accuracy = 0.9324806928634644
precision class 0 = 0.9372702836990356
precision class 1 = 0.8676148653030396
recall class 0 = 0.9896783828735352
recall class 1 = 0.5052564740180969
AUC of ROC = 0.9341064391841872
AUC of PRC = 0.7590171012986134
min(+P, Se) = 0.6900286715514495

==>predicting on validation


confusion matrix:
[[2700   86]
 [ 295  141]]
accuracy = 0.8817504644393921
precision class 0 = 0.9015024900436401
precision class 1 = 0.6211453676223755
recall class 0 = 0.969131350517273
recall class 1 = 0.3233945071697235
AUC of ROC = 0.8490420648458545
AUC of PRC = 0.5238695895811715
min(+P, Se) = 0.4908256880733945
Epoch 00025: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch25.test0.29847338120438605.state
 - 1093s - loss: 0.2161 - val_loss: 0.2985
Epoch 26/100

==>predicting on train


confusion matrix:
[[23262   184]
 [ 1643  1496]]
accuracy = 0.9312770366668701
precision class 0 = 0.9340293407440186
precision class 1 = 0.8904761672019958
recall class 0 = 0.9921521544456482
recall class 1 = 0.47658491134643555
AUC of ROC = 0.9363040900828097
AUC of PRC = 0.7654167047805113
min(+P, Se) = 0.6884358075820325

==>predicting on validation


confusion matrix:
[[2717   69]
 [ 305  131]]
accuracy = 0.8839230537414551
precision class 0 = 0.8990734815597534
precision class 1 = 0.6549999713897705
recall class 0 = 0.9752333164215088
recall class 1 = 0.30045872926712036
AUC of ROC = 0.8513298800687579
AUC of PRC = 0.5230649464841107
min(+P, Se) = 0.4908675799086758
Epoch 00026: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch26.test0.30978248245704254.state
 - 1105s - loss: 0.2147 - val_loss: 0.3098
Epoch 27/100

==>predicting on train


confusion matrix:
[[23181   265]
 [ 1506  1633]]
accuracy = 0.9333834648132324
precision class 0 = 0.9389962553977966
precision class 1 = 0.8603793382644653
recall class 0 = 0.9886974096298218
recall class 1 = 0.5202293992042542
AUC of ROC = 0.9352291752568047
AUC of PRC = 0.7642261370209005
min(+P, Se) = 0.696911811524992

==>predicting on validation


confusion matrix:
[[2698   88]
 [ 298  138]]
accuracy = 0.8801986575126648
precision class 0 = 0.9005340337753296
precision class 1 = 0.6106194853782654
recall class 0 = 0.9684134721755981
recall class 1 = 0.3165137469768524
AUC of ROC = 0.8472251493377767
AUC of PRC = 0.5126652068135071
min(+P, Se) = 0.4885844748858447
Epoch 00027: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch27.test0.3060955040360333.state
 - 1103s - loss: 0.2146 - val_loss: 0.3061
Epoch 28/100

==>predicting on train


confusion matrix:
[[23103   343]
 [ 1417  1722]]
accuracy = 0.9337972402572632
precision class 0 = 0.9422104358673096
precision class 1 = 0.8338983058929443
recall class 0 = 0.9853706359863281
recall class 1 = 0.5485823750495911
AUC of ROC = 0.9359257118571989
AUC of PRC = 0.7602294923423515
min(+P, Se) = 0.6872819536948938

==>predicting on validation


confusion matrix:
[[2670  116]
 [ 276  160]]
accuracy = 0.8783364295959473
precision class 0 = 0.9063136577606201
precision class 1 = 0.5797101259231567
recall class 0 = 0.9583632349967957
recall class 1 = 0.3669724762439728
AUC of ROC = 0.84975664693059
AUC of PRC = 0.5073937739414537
min(+P, Se) = 0.4954128440366973
Epoch 00028: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch28.test0.3176808954533918.state
 - 1086s - loss: 0.2146 - val_loss: 0.3177
Epoch 29/100

==>predicting on train


confusion matrix:
[[23027   419]
 [ 1323  1816]]
accuracy = 0.9344743490219116
precision class 0 = 0.9456673264503479
precision class 1 = 0.8125279545783997
recall class 0 = 0.9821291565895081
recall class 1 = 0.5785281658172607
AUC of ROC = 0.9367717518462779
AUC of PRC = 0.7673832997288806
min(+P, Se) = 0.69194010831475

==>predicting on validation


confusion matrix:
[[2657  129]
 [ 272  164]]
accuracy = 0.8755431175231934
precision class 0 = 0.907135546207428
precision class 1 = 0.5597269535064697
recall class 0 = 0.9536970853805542
recall class 1 = 0.3761467933654785
AUC of ROC = 0.8497286563881005
AUC of PRC = 0.5182473963541456
min(+P, Se) = 0.48394495412844035
Epoch 00029: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch29.test0.3136576100985024.state
 - 1102s - loss: 0.2151 - val_loss: 0.3137
Epoch 30/100

==>predicting on train


confusion matrix:
[[23192   254]
 [ 1531  1608]]
accuracy = 0.9328568577766418
precision class 0 = 0.9380738735198975
precision class 1 = 0.8635875582695007
recall class 0 = 0.9891666173934937
recall class 1 = 0.5122650265693665
AUC of ROC = 0.9372468799472978
AUC of PRC = 0.7673844175097194
min(+P, Se) = 0.6944886906658171

==>predicting on validation


confusion matrix:
[[2700   86]
 [ 298  138]]
accuracy = 0.8808193802833557
precision class 0 = 0.9006003737449646
precision class 1 = 0.6160714030265808
recall class 0 = 0.969131350517273
recall class 1 = 0.3165137469768524
AUC of ROC = 0.8402867878053439
AUC of PRC = 0.5063267130216255
min(+P, Se) = 0.4759725400457666
Epoch 00030: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch30.test0.3190765576674138.state
 - 1094s - loss: 0.2122 - val_loss: 0.3191
Epoch 31/100

==>predicting on train


confusion matrix:
[[23122   324]
 [ 1392  1747]]
accuracy = 0.9354523420333862
precision class 0 = 0.9432161450386047
precision class 1 = 0.8435538411140442
recall class 0 = 0.9861810207366943
recall class 1 = 0.556546688079834
AUC of ROC = 0.9391752603373991
AUC of PRC = 0.7721646637122361
min(+P, Se) = 0.6958307012002527

==>predicting on validation


confusion matrix:
[[2667  119]
 [ 288  148]]
accuracy = 0.8736809492111206
precision class 0 = 0.9025380611419678
precision class 1 = 0.5543071031570435
recall class 0 = 0.9572864174842834
recall class 1 = 0.33944955468177795
AUC of ROC = 0.8409437423026007
AUC of PRC = 0.5005013162575791
min(+P, Se) = 0.4724770642201835
Epoch 00031: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch31.test0.31507071848752927.state
 - 1088s - loss: 0.2123 - val_loss: 0.3151
Epoch 32/100

==>predicting on train


confusion matrix:
[[23202   244]
 [ 1472  1667]]
accuracy = 0.9354523420333862
precision class 0 = 0.9403420686721802
precision class 1 = 0.8723181486129761
recall class 0 = 0.9895930886268616
recall class 1 = 0.5310608744621277
AUC of ROC = 0.9400157158592646
AUC of PRC = 0.7787937071160093
min(+P, Se) = 0.7002230009557184

==>predicting on validation


confusion matrix:
[[2693   93]
 [ 292  144]]
accuracy = 0.8805090188980103
precision class 0 = 0.9021775722503662
precision class 1 = 0.607594907283783
recall class 0 = 0.9666188359260559
recall class 1 = 0.3302752375602722
AUC of ROC = 0.8476902862938546
AUC of PRC = 0.5145583148464706
min(+P, Se) = 0.47950819672131145
Epoch 00032: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch32.test0.3190575934366122.state
 - 1093s - loss: 0.2138 - val_loss: 0.3191
Epoch 33/100

==>predicting on train


confusion matrix:
[[23264   182]
 [ 1588  1551]]
accuracy = 0.9334210753440857
precision class 0 = 0.9361017346382141
precision class 1 = 0.8949797749519348
recall class 0 = 0.9922375082969666
recall class 1 = 0.4941064119338989
AUC of ROC = 0.9387670914928944
AUC of PRC = 0.7783958684270175
min(+P, Se) = 0.7057704502219404

==>predicting on validation


confusion matrix:
[[2712   74]
 [ 312  124]]
accuracy = 0.8801986575126648
precision class 0 = 0.89682537317276
precision class 1 = 0.6262626051902771
recall class 0 = 0.9734386205673218
recall class 1 = 0.2844036817550659
AUC of ROC = 0.8455786468383858
AUC of PRC = 0.519136052288743
min(+P, Se) = 0.4909090909090909
Epoch 00033: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch33.test0.3097736019754469.state
 - 1083s - loss: 0.2118 - val_loss: 0.3098
Epoch 34/100

==>predicting on train


confusion matrix:
[[23242   204]
 [ 1544  1595]]
accuracy = 0.9342486262321472
precision class 0 = 0.9377067685127258
precision class 1 = 0.8866036534309387
recall class 0 = 0.9912991523742676
recall class 1 = 0.5081235766410828
AUC of ROC = 0.9413230246876659
AUC of PRC = 0.7825888657300656
min(+P, Se) = 0.709461611978337

==>predicting on validation


confusion matrix:
[[2703   83]
 [ 310  126]]
accuracy = 0.8780260682106018
precision class 0 = 0.8971124887466431
precision class 1 = 0.6028708219528198
recall class 0 = 0.9702081680297852
recall class 1 = 0.2889908254146576
AUC of ROC = 0.8448270184474139
AUC of PRC = 0.5106385828099093
min(+P, Se) = 0.47706422018348627
Epoch 00034: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch34.test0.3129726156088264.state
 - 1089s - loss: 0.2104 - val_loss: 0.3130
Epoch 35/100

==>predicting on train


confusion matrix:
[[23239   207]
 [ 1512  1627]]
accuracy = 0.9353394508361816
precision class 0 = 0.9389115571975708
precision class 1 = 0.887131929397583
recall class 0 = 0.9911711812019348
recall class 1 = 0.5183179378509521
AUC of ROC = 0.9397292163862019
AUC of PRC = 0.7773152913118448
min(+P, Se) = 0.7034087288945524

==>predicting on validation


confusion matrix:
[[2705   81]
 [ 298  138]]
accuracy = 0.882371187210083
precision class 0 = 0.9007658958435059
precision class 1 = 0.6301369667053223
recall class 0 = 0.97092604637146
recall class 1 = 0.3165137469768524
AUC of ROC = 0.8481702417724268
AUC of PRC = 0.5187128738664454
min(+P, Se) = 0.49430523917995445
Epoch 00035: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch35.test0.309729188308351.state
 - 1092s - loss: 0.2110 - val_loss: 0.3097
Epoch 36/100

==>predicting on train


confusion matrix:
[[23212   234]
 [ 1453  1686]]
accuracy = 0.9365431666374207
precision class 0 = 0.9410906434059143
precision class 1 = 0.878125011920929
recall class 0 = 0.9900196194648743
recall class 1 = 0.5371137261390686
AUC of ROC = 0.9410765879921673
AUC of PRC = 0.78368499741991
min(+P, Se) = 0.7037273016884358

==>predicting on validation


confusion matrix:
[[2687   99]
 [ 295  141]]
accuracy = 0.8777157068252563
precision class 0 = 0.9010730981826782
precision class 1 = 0.5874999761581421
recall class 0 = 0.9644652009010315
recall class 1 = 0.3233945071697235
AUC of ROC = 0.8425606077570025
AUC of PRC = 0.5070645535841543
min(+P, Se) = 0.4852607709750567
Epoch 00036: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch36.test0.3083476153480422.state
 - 1093s - loss: 0.2102 - val_loss: 0.3083
Epoch 37/100

==>predicting on train


confusion matrix:
[[23309   137]
 [ 1622  1517]]
accuracy = 0.9338348507881165
precision class 0 = 0.9349404573440552
precision class 1 = 0.917170524597168
recall class 0 = 0.9941567778587341
recall class 1 = 0.4832749366760254
AUC of ROC = 0.9407010699377206
AUC of PRC = 0.782968078366154
min(+P, Se) = 0.7053201656578528

==>predicting on validation


confusion matrix:
[[2726   60]
 [ 324  112]]
accuracy = 0.8808193802833557
precision class 0 = 0.8937705159187317
precision class 1 = 0.6511628031730652
recall class 0 = 0.9784637689590454
recall class 1 = 0.2568807303905487
AUC of ROC = 0.8498249767843149
AUC of PRC = 0.5247600452106147
min(+P, Se) = 0.49321266968325794
Epoch 00037: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch37.test0.30900023088395634.state
 - 1089s - loss: 0.2081 - val_loss: 0.3090
Epoch 38/100

==>predicting on train


confusion matrix:
[[23188   258]
 [ 1401  1738]]
accuracy = 0.9375963807106018
precision class 0 = 0.9430233240127563
precision class 1 = 0.8707414865493774
recall class 0 = 0.9889959692955017
recall class 1 = 0.5536795258522034
AUC of ROC = 0.9430388148733357
AUC of PRC = 0.7894767787999221
min(+P, Se) = 0.7088244663905703

==>predicting on validation


confusion matrix:
[[2684  102]
 [ 297  139]]
accuracy = 0.876163899898529
precision class 0 = 0.9003689885139465
precision class 1 = 0.5767635107040405
recall class 0 = 0.9633883833885193
recall class 1 = 0.31880733370780945
AUC of ROC = 0.8440235252277114
AUC of PRC = 0.5084980771695896
min(+P, Se) = 0.489749430523918
Epoch 00038: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch38.test0.3163624233493962.state
 - 1098s - loss: 0.2095 - val_loss: 0.3164
Epoch 39/100

==>predicting on train


confusion matrix:
[[23205   241]
 [ 1418  1721]]
accuracy = 0.9375963807106018
precision class 0 = 0.9424115419387817
precision class 1 = 0.8771661520004272
recall class 0 = 0.9897210597991943
recall class 1 = 0.5482637882232666
AUC of ROC = 0.9434671204098363
AUC of PRC = 0.7916049405114216
min(+P, Se) = 0.7110544759477541

==>predicting on validation


confusion matrix:
[[2688   98]
 [ 293  143]]
accuracy = 0.8786467909812927
precision class 0 = 0.9017108082771301
precision class 1 = 0.5933610200881958
recall class 0 = 0.9648241400718689
recall class 1 = 0.3279816508293152
AUC of ROC = 0.8487670989284563
AUC of PRC = 0.5186810756307433
min(+P, Se) = 0.4782608695652174
Epoch 00039: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch39.test0.31330626495853114.state
 - 1093s - loss: 0.2075 - val_loss: 0.3133
Epoch 40/100

==>predicting on train


confusion matrix:
[[23196   250]
 [ 1357  1782]]
accuracy = 0.939552366733551
precision class 0 = 0.9447318315505981
precision class 1 = 0.876968502998352
recall class 0 = 0.9893372058868408
recall class 1 = 0.5676966905593872
AUC of ROC = 0.9430249759929054
AUC of PRC = 0.7898906086487962
min(+P, Se) = 0.709461611978337

==>predicting on validation


confusion matrix:
[[2691   95]
 [ 286  150]]
accuracy = 0.8817504644393921
precision class 0 = 0.903930127620697
precision class 1 = 0.6122449040412903
recall class 0 = 0.9659009575843811
recall class 1 = 0.34403669834136963
AUC of ROC = 0.8472111540665318
AUC of PRC = 0.5242659418103116
min(+P, Se) = 0.4793577981651376
Epoch 00040: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch40.test0.3120052557921905.state
 - 1091s - loss: 0.2085 - val_loss: 0.3120
Epoch 41/100

==>predicting on train


confusion matrix:
[[23186   260]
 [ 1359  1780]]
accuracy = 0.939100980758667
precision class 0 = 0.9446322917938232
precision class 1 = 0.8725489974021912
recall class 0 = 0.9889106750488281
recall class 1 = 0.5670595765113831
AUC of ROC = 0.9438650986207398
AUC of PRC = 0.7938774017297026
min(+P, Se) = 0.7250716788786238

==>predicting on validation


confusion matrix:
[[2693   93]
 [ 286  150]]
accuracy = 0.882371187210083
precision class 0 = 0.903994619846344
precision class 1 = 0.6172839403152466
recall class 0 = 0.9666188359260559
recall class 1 = 0.34403669834136963
AUC of ROC = 0.8494866205206899
AUC of PRC = 0.5224406516120021
min(+P, Se) = 0.4911111111111111
Epoch 00041: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch41.test0.3146855245112522.state
 - 1097s - loss: 0.2071 - val_loss: 0.3147
Epoch 42/100

==>predicting on train


confusion matrix:
[[23157   289]
 [ 1331  1808]]
accuracy = 0.9390633702278137
precision class 0 = 0.9456468224525452
precision class 1 = 0.8621840476989746
recall class 0 = 0.987673819065094
recall class 1 = 0.5759795904159546
AUC of ROC = 0.94317304589913
AUC of PRC = 0.791810614546724
min(+P, Se) = 0.7105095541401274

==>predicting on validation


confusion matrix:
[[2680  106]
 [ 279  157]]
accuracy = 0.8805090188980103
precision class 0 = 0.9057114124298096
precision class 1 = 0.5969581604003906
recall class 0 = 0.9619526267051697
recall class 1 = 0.3600917458534241
AUC of ROC = 0.8443297746925978
AUC of PRC = 0.5166892095137663
min(+P, Se) = 0.4854586129753915
Epoch 00042: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch42.test0.3117436786488041.state
 - 1089s - loss: 0.2062 - val_loss: 0.3117
Epoch 43/100

==>predicting on train


confusion matrix:
[[23280   166]
 [ 1517  1622]]
accuracy = 0.9366936087608337
precision class 0 = 0.9388232231140137
precision class 1 = 0.9071588516235352
recall class 0 = 0.992919921875
recall class 1 = 0.5167250633239746
AUC of ROC = 0.9435079644693097
AUC of PRC = 0.7935469744243965
min(+P, Se) = 0.7193373685887225

==>predicting on validation


confusion matrix:
[[2719   67]
 [ 304  132]]
accuracy = 0.8848541378974915
precision class 0 = 0.899437665939331
precision class 1 = 0.6633166074752808
recall class 0 = 0.9759511947631836
recall class 1 = 0.302752286195755
AUC of ROC = 0.8426511653944692
AUC of PRC = 0.5130201978638478
min(+P, Se) = 0.481651376146789
Epoch 00043: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch43.test0.31135763670303374.state
 - 1091s - loss: 0.2069 - val_loss: 0.3114
Epoch 44/100

==>predicting on train


confusion matrix:
[[23195   251]
 [ 1364  1775]]
accuracy = 0.9392514824867249
precision class 0 = 0.9444602727890015
precision class 1 = 0.8761105537414551
recall class 0 = 0.9892945289611816
recall class 1 = 0.5654667019844055
AUC of ROC = 0.9452622073124345
AUC of PRC = 0.7976284337694833
min(+P, Se) = 0.7183944374209861

==>predicting on validation


confusion matrix:
[[2691   95]
 [ 287  149]]
accuracy = 0.8814401030540466
precision class 0 = 0.9036266207695007
precision class 1 = 0.6106557250022888
recall class 0 = 0.9659009575843811
recall class 1 = 0.3417431116104126
AUC of ROC = 0.8421539216396531
AUC of PRC = 0.5119053475585583
min(+P, Se) = 0.48409090909090907
Epoch 00044: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch44.test0.3202220002833284.state
 - 1105s - loss: 0.2051 - val_loss: 0.3202
Epoch 45/100

==>predicting on train


confusion matrix:
[[23256   190]
 [ 1450  1689]]
accuracy = 0.9383111000061035
precision class 0 = 0.9413098096847534
precision class 1 = 0.8988823890686035
recall class 0 = 0.9918962717056274
recall class 1 = 0.5380694270133972
AUC of ROC = 0.9468717023958886
AUC of PRC = 0.8019249987695417
min(+P, Se) = 0.7298502707868748

==>predicting on validation


confusion matrix:
[[2707   79]
 [ 287  149]]
accuracy = 0.8864059448242188
precision class 0 = 0.9041416049003601
precision class 1 = 0.6535087823867798
recall class 0 = 0.9716439247131348
recall class 1 = 0.3417431116104126
AUC of ROC = 0.8468028214466831
AUC of PRC = 0.5199639568512596
min(+P, Se) = 0.4965986394557823
Epoch 00045: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch45.test0.30989480545151166.state
 - 1090s - loss: 0.2067 - val_loss: 0.3099
Epoch 46/100

==>predicting on train


confusion matrix:
[[23185   261]
 [ 1337  1802]]
accuracy = 0.9398909211158752
precision class 0 = 0.9454775452613831
precision class 1 = 0.8734852075576782
recall class 0 = 0.9888680577278137
recall class 1 = 0.5740681886672974
AUC of ROC = 0.9460888579226483
AUC of PRC = 0.8013888339901454
min(+P, Se) = 0.7273885350318471

==>predicting on validation


confusion matrix:
[[2682  104]
 [ 284  152]]
accuracy = 0.8795778751373291
precision class 0 = 0.9042481184005737
precision class 1 = 0.59375
recall class 0 = 0.9626705050468445
recall class 1 = 0.3486238420009613
AUC of ROC = 0.8449134598286319
AUC of PRC = 0.5020384937775024
min(+P, Se) = 0.48394495412844035
Epoch 00046: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch46.test0.3245455304901841.state
 - 1101s - loss: 0.2032 - val_loss: 0.3245
Epoch 47/100

==>predicting on train


confusion matrix:
[[23193   253]
 [ 1355  1784]]
accuracy = 0.9395147562026978
precision class 0 = 0.9448020458221436
precision class 1 = 0.8757977485656738
recall class 0 = 0.9892092347145081
recall class 1 = 0.5683338642120361
AUC of ROC = 0.9468326247129062
AUC of PRC = 0.80034774600385
min(+P, Se) = 0.726027397260274

==>predicting on validation


confusion matrix:
[[2692   94]
 [ 293  143]]
accuracy = 0.8798882961273193
precision class 0 = 0.9018425345420837
precision class 1 = 0.6033755540847778
recall class 0 = 0.9662598967552185
recall class 1 = 0.3279816508293152
AUC of ROC = 0.8470843733740787
AUC of PRC = 0.5082520362741403
min(+P, Se) = 0.47954545454545455
Epoch 00047: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch47.test0.3106496700361454.state
 - 1090s - loss: 0.2068 - val_loss: 0.3106
Epoch 48/100

==>predicting on train


confusion matrix:
[[23254   192]
 [ 1456  1683]]
accuracy = 0.9380101561546326
precision class 0 = 0.9410764575004578
precision class 1 = 0.897599995136261
recall class 0 = 0.9918109774589539
recall class 1 = 0.53615802526474
AUC of ROC = 0.9474637985893826
AUC of PRC = 0.8021235892906106
min(+P, Se) = 0.7273016884358076

==>predicting on validation


confusion matrix:
[[2714   72]
 [ 302  134]]
accuracy = 0.8839230537414551
precision class 0 = 0.8998673558235168
precision class 1 = 0.6504854559898376
recall class 0 = 0.9741564989089966
recall class 1 = 0.30733945965766907
AUC of ROC = 0.8468752675566562
AUC of PRC = 0.5139708974092224
min(+P, Se) = 0.48642533936651583
Epoch 00048: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch48.test0.30444157728029286.state
 - 1094s - loss: 0.2031 - val_loss: 0.3044
Epoch 49/100

==>predicting on train


confusion matrix:
[[23240   206]
 [ 1384  1755]]
accuracy = 0.9401918649673462
precision class 0 = 0.9437946677207947
precision class 1 = 0.894951581954956
recall class 0 = 0.991213858127594
recall class 1 = 0.5590952634811401
AUC of ROC = 0.9455687076023784
AUC of PRC = 0.7996934540060009
min(+P, Se) = 0.7229299363057324

==>predicting on validation


confusion matrix:
[[2700   86]
 [ 294  142]]
accuracy = 0.8820608258247375
precision class 0 = 0.9018036127090454
precision class 1 = 0.6228070259094238
recall class 0 = 0.969131350517273
recall class 1 = 0.32568806409835815
AUC of ROC = 0.8473618090452263
AUC of PRC = 0.5167245224304653
min(+P, Se) = 0.48156182212581344
Epoch 00049: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch49.test0.3103960802180844.state
 - 1097s - loss: 0.2050 - val_loss: 0.3104
Epoch 50/100

==>predicting on train


confusion matrix:
[[23178   268]
 [ 1272  1867]]
accuracy = 0.9420725703239441
precision class 0 = 0.9479754567146301
precision class 1 = 0.8744730949401855
recall class 0 = 0.9885694980621338
recall class 1 = 0.594775378704071
AUC of ROC = 0.9480797272779918
AUC of PRC = 0.8086085434857758
min(+P, Se) = 0.7320802803440586

==>predicting on validation


confusion matrix:
[[2678  108]
 [ 278  158]]
accuracy = 0.8801986575126648
precision class 0 = 0.9059540033340454
precision class 1 = 0.5939849615097046
recall class 0 = 0.9612347483634949
recall class 1 = 0.3623853325843811
AUC of ROC = 0.845659325460856
AUC of PRC = 0.5048727821471766
min(+P, Se) = 0.5011441647597255
Epoch 00050: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch50.test0.31233612700492086.state
 - 1094s - loss: 0.2034 - val_loss: 0.3123
Epoch 51/100

==>predicting on train


confusion matrix:
[[23264   182]
 [ 1483  1656]]
accuracy = 0.9373707175254822
precision class 0 = 0.940073549747467
precision class 1 = 0.9009793400764465
recall class 0 = 0.9922375082969666
recall class 1 = 0.5275565385818481
AUC of ROC = 0.9456988759622439
AUC of PRC = 0.796916657804827
min(+P, Se) = 0.7190187957948391

==>predicting on validation


confusion matrix:
[[2701   85]
 [ 302  134]]
accuracy = 0.8798882961273193
precision class 0 = 0.8994339108467102
precision class 1 = 0.611872136592865
recall class 0 = 0.9694902896881104
recall class 1 = 0.30733945965766907
AUC of ROC = 0.8489202236608996
AUC of PRC = 0.5166859426962938
min(+P, Se) = 0.4801762114537445
Epoch 00051: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch51.test0.31175164065325506.state
 - 1101s - loss: 0.2000 - val_loss: 0.3118
Epoch 52/100

==>predicting on train


confusion matrix:
[[23264   182]
 [ 1451  1688]]
accuracy = 0.9385743737220764
precision class 0 = 0.9412907361984253
precision class 1 = 0.9026737809181213
recall class 0 = 0.9922375082969666
recall class 1 = 0.5377508997917175
AUC of ROC = 0.9479002090764741
AUC of PRC = 0.8068992466257858
min(+P, Se) = 0.7336731443134756

==>predicting on validation


confusion matrix:
[[2699   87]
 [ 299  137]]
accuracy = 0.8801986575126648
precision class 0 = 0.9002668261528015
precision class 1 = 0.6116071343421936
recall class 0 = 0.9687724113464355
recall class 1 = 0.3142201900482178
AUC of ROC = 0.8486633692709945
AUC of PRC = 0.5262281795634038
min(+P, Se) = 0.505720823798627
Epoch 00052: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch52.test0.3106619902278865.state
 - 1098s - loss: 0.2034 - val_loss: 0.3107
Epoch 53/100

==>predicting on train


confusion matrix:
[[23192   254]
 [ 1283  1856]]
accuracy = 0.9421854615211487
precision class 0 = 0.9475791454315186
precision class 1 = 0.8796208500862122
recall class 0 = 0.9891666173934937
recall class 1 = 0.5912711024284363
AUC of ROC = 0.9486700095387048
AUC of PRC = 0.8103041770838599
min(+P, Se) = 0.7346288626951258

==>predicting on validation


confusion matrix:
[[2686  100]
 [ 288  148]]
accuracy = 0.8795778751373291
precision class 0 = 0.9031607508659363
precision class 1 = 0.5967742204666138
recall class 0 = 0.9641062617301941
recall class 1 = 0.33944955468177795
AUC of ROC = 0.8469147836166414
AUC of PRC = 0.5145071675244371
min(+P, Se) = 0.48853211009174313
Epoch 00053: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch53.test0.3158735501944723.state
 - 1087s - loss: 0.2034 - val_loss: 0.3159
Epoch 54/100

==>predicting on train


confusion matrix:
[[23251   195]
 [ 1446  1693]]
accuracy = 0.9382734894752502
precision class 0 = 0.9414503574371338
precision class 1 = 0.8967161178588867
recall class 0 = 0.9916830062866211
recall class 1 = 0.5393437147140503
AUC of ROC = 0.9474600416424617
AUC of PRC = 0.808745449619543
min(+P, Se) = 0.7273016884358076

==>predicting on validation


confusion matrix:
[[2706   80]
 [ 298  138]]
accuracy = 0.8826815485954285
precision class 0 = 0.9007989168167114
precision class 1 = 0.6330274939537048
recall class 0 = 0.9712849855422974
recall class 1 = 0.3165137469768524
AUC of ROC = 0.8477298023538401
AUC of PRC = 0.5212821008763173
min(+P, Se) = 0.49658314350797267
Epoch 00054: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch54.test0.3140692548707248.state
 - 1091s - loss: 0.2029 - val_loss: 0.3141
Epoch 55/100

==>predicting on train


confusion matrix:
[[23238   208]
 [ 1388  1751]]
accuracy = 0.9399661421775818
precision class 0 = 0.9436368346214294
precision class 1 = 0.8938233852386475
recall class 0 = 0.9911285638809204
recall class 1 = 0.5578209757804871
AUC of ROC = 0.9483666547576659
AUC of PRC = 0.8085625361288611
min(+P, Se) = 0.7381331634278433

==>predicting on validation


confusion matrix:
[[2700   86]
 [ 290  146]]
accuracy = 0.8833022713661194
precision class 0 = 0.9030100107192993
precision class 1 = 0.6293103694915771
recall class 0 = 0.969131350517273
recall class 1 = 0.3348623812198639
AUC of ROC = 0.8424008970145617
AUC of PRC = 0.5164804645027218
min(+P, Se) = 0.4897959183673469
Epoch 00055: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch55.test0.3166345019196406.state
 - 1078s - loss: 0.2017 - val_loss: 0.3166
Epoch 56/100

==>predicting on train


confusion matrix:
[[23202   244]
 [ 1307  1832]]
accuracy = 0.9416588544845581
precision class 0 = 0.9466726779937744
precision class 1 = 0.8824662566184998
recall class 0 = 0.9895930886268616
recall class 1 = 0.5836253762245178
AUC of ROC = 0.9483941830559004
AUC of PRC = 0.8092008227175201
min(+P, Se) = 0.7312957656797199

==>predicting on validation


confusion matrix:
[[2684  102]
 [ 290  146]]
accuracy = 0.8783364295959473
precision class 0 = 0.9024882316589355
precision class 1 = 0.5887096524238586
recall class 0 = 0.9633883833885193
recall class 1 = 0.3348623812198639
AUC of ROC = 0.8451876024947805
AUC of PRC = 0.506058788375641
min(+P, Se) = 0.4954128440366973
Epoch 00056: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch56.test0.32157649623124884.state
 - 1098s - loss: 0.2028 - val_loss: 0.3216
Epoch 57/100

==>predicting on train


confusion matrix:
[[23174   272]
 [ 1195  1944]]
accuracy = 0.9448184967041016
precision class 0 = 0.9509623050689697
precision class 1 = 0.8772563338279724
recall class 0 = 0.9883988499641418
recall class 1 = 0.6193054914474487
AUC of ROC = 0.9503838838852576
AUC of PRC = 0.8181472668227537
min(+P, Se) = 0.7438674737177445

==>predicting on validation


confusion matrix:
[[2674  112]
 [ 276  160]]
accuracy = 0.8795778751373291
precision class 0 = 0.9064406752586365
precision class 1 = 0.5882353186607361
recall class 0 = 0.9597989916801453
recall class 1 = 0.3669724762439728
AUC of ROC = 0.847464715451438
AUC of PRC = 0.5207581966906546
min(+P, Se) = 0.509090909090909
Epoch 00057: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch57.test0.31389091076233383.state
 - 1095s - loss: 0.1988 - val_loss: 0.3139
Epoch 58/100

==>predicting on train


confusion matrix:
[[23253   193]
 [ 1362  1777]]
accuracy = 0.9415083527565002
precision class 0 = 0.9446678757667542
precision class 1 = 0.9020304679870605
recall class 0 = 0.9917683005332947
recall class 1 = 0.5661038756370544
AUC of ROC = 0.9486496554465255
AUC of PRC = 0.8105264526073066
min(+P, Se) = 0.7374960178400765

==>predicting on validation


confusion matrix:
[[2699   87]
 [ 295  141]]
accuracy = 0.8814401030540466
precision class 0 = 0.9014695882797241
precision class 1 = 0.6184210777282715
recall class 0 = 0.9687724113464355
recall class 1 = 0.3233945071697235
AUC of ROC = 0.846175503994415
AUC of PRC = 0.511576014543315
min(+P, Se) = 0.4908256880733945
Epoch 00058: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch58.test0.32012842746577524.state
 - 1091s - loss: 0.2022 - val_loss: 0.3201
Epoch 59/100

==>predicting on train


confusion matrix:
[[23265   181]
 [ 1392  1747]]
accuracy = 0.9408313035964966
precision class 0 = 0.9435454607009888
precision class 1 = 0.9061203598976135
recall class 0 = 0.992280125617981
recall class 1 = 0.556546688079834
AUC of ROC = 0.9497287756073298
AUC of PRC = 0.816328653681875
min(+P, Se) = 0.742212333121424

==>predicting on validation


confusion matrix:
[[2701   85]
 [ 299  137]]
accuracy = 0.8808193802833557
precision class 0 = 0.9003333449363708
precision class 1 = 0.6171171069145203
recall class 0 = 0.9694902896881104
recall class 1 = 0.3142201900482178
AUC of ROC = 0.8473259976158645
AUC of PRC = 0.5069283892431481
min(+P, Se) = 0.481651376146789
Epoch 00059: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch59.test0.32104612142772576.state
 - 1095s - loss: 0.1992 - val_loss: 0.3210
Epoch 60/100

==>predicting on train


confusion matrix:
[[23264   182]
 [ 1390  1749]]
accuracy = 0.9408689141273499
precision class 0 = 0.9436196684837341
precision class 1 = 0.9057483077049255
recall class 0 = 0.9922375082969666
recall class 1 = 0.5571838021278381
AUC of ROC = 0.9495668668206748
AUC of PRC = 0.8150202066657465
min(+P, Se) = 0.7386182744348934

==>predicting on validation


confusion matrix:
[[2702   84]
 [ 298  138]]
accuracy = 0.8814401030540466
precision class 0 = 0.9006666541099548
precision class 1 = 0.6216216087341309
recall class 0 = 0.9698492288589478
recall class 1 = 0.3165137469768524
AUC of ROC = 0.8481644790136791
AUC of PRC = 0.5104265350093307
min(+P, Se) = 0.4891304347826087
Epoch 00060: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch60.test0.31479383250530796.state
 - 1093s - loss: 0.2014 - val_loss: 0.3148
Epoch 61/100

==>predicting on train


confusion matrix:
[[23227   219]
 [ 1279  1860]]
accuracy = 0.9436524510383606
precision class 0 = 0.9478086829185486
precision class 1 = 0.8946608901023865
recall class 0 = 0.9906594157218933
recall class 1 = 0.5925453901290894
AUC of ROC = 0.9512813729865108
AUC of PRC = 0.8197097914627111
min(+P, Se) = 0.7400446001911437

==>predicting on validation


confusion matrix:
[[2678  108]
 [ 282  154]]
accuracy = 0.8789571523666382
precision class 0 = 0.9047297239303589
precision class 1 = 0.5877862572669983
recall class 0 = 0.9612347483634949
recall class 1 = 0.35321101546287537
AUC of ROC = 0.8441503059201644
AUC of PRC = 0.5173210236079651
min(+P, Se) = 0.4988662131519274
Epoch 00061: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch61.test0.3083355564607884.state
 - 1096s - loss: 0.2013 - val_loss: 0.3083
Epoch 62/100

==>predicting on train


confusion matrix:
[[23168   278]
 [ 1254  1885]]
accuracy = 0.942373514175415
precision class 0 = 0.9486528635025024
precision class 1 = 0.8714748024940491
recall class 0 = 0.9881429672241211
recall class 1 = 0.6005097031593323
AUC of ROC = 0.9495084676963843
AUC of PRC = 0.8073160177936193
min(+P, Se) = 0.7334394904458599

==>predicting on validation


confusion matrix:
[[2688   98]
 [ 281  155]]
accuracy = 0.882371187210083
precision class 0 = 0.9053553342819214
precision class 1 = 0.6126482486724854
recall class 0 = 0.9648241400718689
recall class 1 = 0.35550457239151
AUC of ROC = 0.8496101082081442
AUC of PRC = 0.520022913421253
min(+P, Se) = 0.5022935779816514
Epoch 00062: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch62.test0.3065677283390718.state
 - 1097s - loss: 0.1992 - val_loss: 0.3066
Epoch 63/100

==>predicting on train


confusion matrix:
[[23237   209]
 [ 1319  1820]]
accuracy = 0.9425239562988281
precision class 0 = 0.9462860226631165
precision class 1 = 0.8969935774803162
recall class 0 = 0.9910858869552612
recall class 1 = 0.5798025131225586
AUC of ROC = 0.9497872154941545
AUC of PRC = 0.8139524950536502
min(+P, Se) = 0.7340764331210191

==>predicting on validation


confusion matrix:
[[2695   91]
 [ 294  142]]
accuracy = 0.8805090188980103
precision class 0 = 0.9016393423080444
precision class 1 = 0.6094420552253723
recall class 0 = 0.9673366546630859
recall class 1 = 0.32568806409835815
AUC of ROC = 0.8415060229061427
AUC of PRC = 0.5141700705766519
min(+P, Se) = 0.4965675057208238
Epoch 00063: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch63.test0.3125523412675313.state
 - 1088s - loss: 0.1987 - val_loss: 0.3126
Epoch 64/100

==>predicting on train


confusion matrix:
[[23312   134]
 [ 1490  1649]]
accuracy = 0.9389129281044006
precision class 0 = 0.9399241805076599
precision class 1 = 0.9248457551002502
recall class 0 = 0.9942847490310669
recall class 1 = 0.5253265500068665
AUC of ROC = 0.9507057992069621
AUC of PRC = 0.8171590248030866
min(+P, Se) = 0.737663164597262

==>predicting on validation


confusion matrix:
[[2721   65]
 [ 309  127]]
accuracy = 0.8839230537414551
precision class 0 = 0.8980197906494141
precision class 1 = 0.6614583134651184
recall class 0 = 0.9766690731048584
recall class 1 = 0.2912844121456146
AUC of ROC = 0.8411232110750344
AUC of PRC = 0.5134692303778969
min(+P, Se) = 0.49770642201834864
Epoch 00064: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch64.test0.3141187034884941.state
 - 1100s - loss: 0.1977 - val_loss: 0.3141
Epoch 65/100

==>predicting on train


confusion matrix:
[[23243   203]
 [ 1339  1800]]
accuracy = 0.9419973492622375
precision class 0 = 0.9455292224884033
precision class 1 = 0.8986520171165466
recall class 0 = 0.9913418292999268
recall class 1 = 0.5734310150146484
AUC of ROC = 0.9505137397323592
AUC of PRC = 0.8193576765695848
min(+P, Se) = 0.7425931825422109

==>predicting on validation


confusion matrix:
[[2696   90]
 [ 296  140]]
accuracy = 0.8801986575126648
precision class 0 = 0.9010695219039917
precision class 1 = 0.6086956262588501
recall class 0 = 0.9676955938339233
recall class 1 = 0.3211009204387665
AUC of ROC = 0.8484682587248167
AUC of PRC = 0.5181511930899849
min(+P, Se) = 0.4908256880733945
Epoch 00065: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch65.test0.3259717244851449.state
 - 1096s - loss: 0.1975 - val_loss: 0.3260
Epoch 66/100

==>predicting on train


confusion matrix:
[[23232   214]
 [ 1289  1850]]
accuracy = 0.9434643387794495
precision class 0 = 0.947432816028595
precision class 1 = 0.8963178396224976
recall class 0 = 0.9908726215362549
recall class 1 = 0.5893596410751343
AUC of ROC = 0.9513272648064947
AUC of PRC = 0.8216514057603376
min(+P, Se) = 0.7410003185727939

==>predicting on validation


confusion matrix:
[[2695   91]
 [ 290  146]]
accuracy = 0.8817504644393921
precision class 0 = 0.9028475880622864
precision class 1 = 0.6160337328910828
recall class 0 = 0.9673366546630859
recall class 1 = 0.3348623812198639
AUC of ROC = 0.8476845235351068
AUC of PRC = 0.521434857105057
min(+P, Se) = 0.4897959183673469
Epoch 00066: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch66.test0.3116792819186962.state
 - 1089s - loss: 0.1970 - val_loss: 0.3117
Epoch 67/100

==>predicting on train


confusion matrix:
[[23168   278]
 [ 1182  1957]]
accuracy = 0.9450818300247192
precision class 0 = 0.9514579176902771
precision class 1 = 0.8756152391433716
recall class 0 = 0.9881429672241211
recall class 1 = 0.6234469413757324
AUC of ROC = 0.9504179749515312
AUC of PRC = 0.820137830231875
min(+P, Se) = 0.7394904458598726

==>predicting on validation


confusion matrix:
[[2672  114]
 [ 281  155]]
accuracy = 0.8774053454399109
precision class 0 = 0.9048425555229187
precision class 1 = 0.5762081742286682
recall class 0 = 0.9590811133384705
recall class 1 = 0.35550457239151
AUC of ROC = 0.8456510929483592
AUC of PRC = 0.5138255955174718
min(+P, Se) = 0.4724770642201835
Epoch 00067: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch67.test0.3186108272529625.state
 - 1101s - loss: 0.2002 - val_loss: 0.3186
Epoch 68/100

==>predicting on train


confusion matrix:
[[23271   175]
 [ 1364  1775]]
accuracy = 0.9421102404594421
precision class 0 = 0.9446316361427307
precision class 1 = 0.9102563858032227
recall class 0 = 0.9925360679626465
recall class 1 = 0.5654667019844055
AUC of ROC = 0.9513556083554173
AUC of PRC = 0.8195380608095629
min(+P, Se) = 0.7403631729850271

==>predicting on validation


confusion matrix:
[[2703   83]
 [ 294  142]]
accuracy = 0.8829919099807739
precision class 0 = 0.90190190076828
precision class 1 = 0.6311110854148865
recall class 0 = 0.9702081680297852
recall class 1 = 0.32568806409835815
AUC of ROC = 0.8426775094344593
AUC of PRC = 0.5248659197055745
min(+P, Se) = 0.4898419864559819
Epoch 00068: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch68.test0.31687475922780517.state
 - 1092s - loss: 0.1985 - val_loss: 0.3169
Epoch 69/100

==>predicting on train


confusion matrix:
[[23279   167]
 [ 1392  1747]]
accuracy = 0.9413579106330872
precision class 0 = 0.9435774683952332
precision class 1 = 0.9127481579780579
recall class 0 = 0.9928772449493408
recall class 1 = 0.556546688079834
AUC of ROC = 0.9513556627054631
AUC of PRC = 0.8207682470975556
min(+P, Se) = 0.7416374641605606

==>predicting on validation


confusion matrix:
[[2706   80]
 [ 297  139]]
accuracy = 0.8829919099807739
precision class 0 = 0.901098906993866
precision class 1 = 0.6347032189369202
recall class 0 = 0.9712849855422974
recall class 1 = 0.31880733370780945
AUC of ROC = 0.8462265455718961
AUC of PRC = 0.5195301667620887
min(+P, Se) = 0.48552338530066813
Epoch 00069: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch69.test0.3228312617874271.state
 - 1105s - loss: 0.1972 - val_loss: 0.3228
Epoch 70/100

==>predicting on train


confusion matrix:
[[23320   126]
 [ 1473  1666]]
accuracy = 0.939853310585022
precision class 0 = 0.9405880570411682
precision class 1 = 0.9296875
recall class 0 = 0.9946259260177612
recall class 1 = 0.5307422876358032
AUC of ROC = 0.9520399026079788
AUC of PRC = 0.8236431326099729
min(+P, Se) = 0.7473717744504619

==>predicting on validation


confusion matrix:
[[2726   60]
 [ 317  119]]
accuracy = 0.8829919099807739
precision class 0 = 0.8958264589309692
precision class 1 = 0.6648044586181641
recall class 0 = 0.9784637689590454
recall class 1 = 0.27293577790260315
AUC of ROC = 0.8442927283863617
AUC of PRC = 0.5113903422635121
min(+P, Se) = 0.4863013698630137
Epoch 00070: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch70.test0.31513284928379853.state
 - 1079s - loss: 0.1997 - val_loss: 0.3151
Epoch 71/100

==>predicting on train


confusion matrix:
[[23258   188]
 [ 1271  1868]]
accuracy = 0.9451194405555725
precision class 0 = 0.9481837749481201
precision class 1 = 0.9085603356361389
recall class 0 = 0.991981565952301
recall class 1 = 0.5950939655303955
AUC of ROC = 0.9520711131218212
AUC of PRC = 0.8240291953476447
min(+P, Se) = 0.7491255961844198

==>predicting on validation


confusion matrix:
[[2689   97]
 [ 295  141]]
accuracy = 0.8783364295959473
precision class 0 = 0.9011394381523132
precision class 1 = 0.5924369692802429
recall class 0 = 0.9651830792427063
recall class 1 = 0.3233945071697235
AUC of ROC = 0.8449410387454968
AUC of PRC = 0.5052840959168691
min(+P, Se) = 0.48394495412844035
Epoch 00071: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch71.test0.32012411327552787.state
 - 1102s - loss: 0.1960 - val_loss: 0.3201
Epoch 72/100

==>predicting on train


confusion matrix:
[[23269   177]
 [ 1330  1809]]
accuracy = 0.9433138966560364
precision class 0 = 0.9459327459335327
precision class 1 = 0.9108761548995972
recall class 0 = 0.9924507141113281
recall class 1 = 0.576298177242279
AUC of ROC = 0.9520579060606741
AUC of PRC = 0.8239677415135898
min(+P, Se) = 0.7471337579617834

==>predicting on validation


confusion matrix:
[[2698   88]
 [ 294  142]]
accuracy = 0.8814401030540466
precision class 0 = 0.9017379879951477
precision class 1 = 0.6173912882804871
recall class 0 = 0.9684134721755981
recall class 1 = 0.32568806409835815
AUC of ROC = 0.8480006520149899
AUC of PRC = 0.5244276428434921
min(+P, Se) = 0.4851258581235698
Epoch 00072: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch72.test0.309831665166319.state
 - 1087s - loss: 0.1986 - val_loss: 0.3098
Epoch 73/100

==>predicting on train


confusion matrix:
[[23259   187]
 [ 1292  1847]]
accuracy = 0.9443671107292175
precision class 0 = 0.9473748803138733
precision class 1 = 0.9080629348754883
recall class 0 = 0.9920242428779602
recall class 1 = 0.5884039402008057
AUC of ROC = 0.9524779571839578
AUC of PRC = 0.8236465530922407
min(+P, Se) = 0.7449109414758269

==>predicting on validation


confusion matrix:
[[2698   88]
 [ 289  147]]
accuracy = 0.8829919099807739
precision class 0 = 0.9032474160194397
precision class 1 = 0.6255319118499756
recall class 0 = 0.9684134721755981
recall class 1 = 0.3371559679508209
AUC of ROC = 0.8480928561549557
AUC of PRC = 0.5221654383610931
min(+P, Se) = 0.49099099099099097
Epoch 00073: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch73.test0.3181748259061061.state
 - 1092s - loss: 0.1969 - val_loss: 0.3182
Epoch 74/100

==>predicting on train


confusion matrix:
[[23196   250]
 [ 1230  1909]]
accuracy = 0.9443295001983643
precision class 0 = 0.9496438503265381
precision class 1 = 0.8842056393623352
recall class 0 = 0.9893372058868408
recall class 1 = 0.6081554889678955
AUC of ROC = 0.95039797413465
AUC of PRC = 0.8206182344945726
min(+P, Se) = 0.7452229299363057

==>predicting on validation


confusion matrix:
[[2678  108]
 [ 282  154]]
accuracy = 0.8789571523666382
precision class 0 = 0.9047297239303589
precision class 1 = 0.5877862572669983
recall class 0 = 0.9612347483634949
recall class 1 = 0.35321101546287537
AUC of ROC = 0.8514047959324802
AUC of PRC = 0.5257611759664509
min(+P, Se) = 0.49324324324324326
Epoch 00074: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch74.test0.324826714745188.state
 - 1092s - loss: 0.1945 - val_loss: 0.3248
Epoch 75/100

==>predicting on train


confusion matrix:
[[23166   280]
 [ 1198  1941]]
accuracy = 0.9444047212600708
precision class 0 = 0.9508290886878967
precision class 1 = 0.8739306330680847
recall class 0 = 0.9880576729774475
recall class 1 = 0.6183497905731201
AUC of ROC = 0.953141258731301
AUC of PRC = 0.823412932782619
min(+P, Se) = 0.7454603376871615

==>predicting on validation


confusion matrix:
[[2664  122]
 [ 275  161]]
accuracy = 0.87678462266922
precision class 0 = 0.9064307808876038
precision class 1 = 0.5689045786857605
recall class 0 = 0.9562095999717712
recall class 1 = 0.3692660629749298
AUC of ROC = 0.8491639060308094
AUC of PRC = 0.5168685515355076
min(+P, Se) = 0.48394495412844035
Epoch 00075: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch75.test0.317910675241535.state
 - 1079s - loss: 0.1953 - val_loss: 0.3179
Epoch 76/100

==>predicting on train


confusion matrix:
[[23289   157]
 [ 1408  1731]]
accuracy = 0.9411321878433228
precision class 0 = 0.9429890513420105
precision class 1 = 0.9168432354927063
recall class 0 = 0.9933037757873535
recall class 1 = 0.5514494776725769
AUC of ROC = 0.9525628587493669
AUC of PRC = 0.8214529591698383
min(+P, Se) = 0.7464160560688117

==>predicting on validation


confusion matrix:
[[2716   70]
 [ 302  134]]
accuracy = 0.884543776512146
precision class 0 = 0.8999337553977966
precision class 1 = 0.656862735748291
recall class 0 = 0.9748743772506714
recall class 1 = 0.30733945965766907
AUC of ROC = 0.8497533539255913
AUC of PRC = 0.5290108610481881
min(+P, Se) = 0.49770642201834864
Epoch 00076: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch76.test0.3148733538770291.state
 - 1083s - loss: 0.1973 - val_loss: 0.3149
Epoch 77/100

==>predicting on train


confusion matrix:
[[23262   184]
 [ 1343  1796]]
accuracy = 0.9425615668296814
precision class 0 = 0.945417582988739
precision class 1 = 0.9070706963539124
recall class 0 = 0.9921521544456482
recall class 1 = 0.5721567273139954
AUC of ROC = 0.9520546518516777
AUC of PRC = 0.8213357186942696
min(+P, Se) = 0.7432303281299777

==>predicting on validation


confusion matrix:
[[2703   83]
 [ 294  142]]
accuracy = 0.8829919099807739
precision class 0 = 0.90190190076828
precision class 1 = 0.6311110854148865
recall class 0 = 0.9702081680297852
recall class 1 = 0.32568806409835815
AUC of ROC = 0.8493730118482319
AUC of PRC = 0.529755426369589
min(+P, Se) = 0.5125284738041003
Epoch 00077: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch77.test0.3091182180308615.state
 - 1105s - loss: 0.1951 - val_loss: 0.3091
Epoch 78/100

==>predicting on train


confusion matrix:
[[23226   220]
 [ 1272  1867]]
accuracy = 0.9438781142234802
precision class 0 = 0.948077380657196
precision class 1 = 0.8945855498313904
recall class 0 = 0.9906167387962341
recall class 1 = 0.594775378704071
AUC of ROC = 0.9517926710430591
AUC of PRC = 0.8216211991547081
min(+P, Se) = 0.7425931825422109

==>predicting on validation


confusion matrix:
[[2685  101]
 [ 287  149]]
accuracy = 0.8795778751373291
precision class 0 = 0.9034320116043091
precision class 1 = 0.5960000157356262
recall class 0 = 0.9637473225593567
recall class 1 = 0.3417431116104126
AUC of ROC = 0.8510697326738542
AUC of PRC = 0.5214591508189341
min(+P, Se) = 0.4908675799086758
Epoch 00078: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch78.test0.31745904107814543.state
 - 1100s - loss: 0.1975 - val_loss: 0.3175
Epoch 79/100

==>predicting on train


confusion matrix:
[[23208   238]
 [ 1207  1932]]
accuracy = 0.9456460475921631
precision class 0 = 0.9505631923675537
precision class 1 = 0.8903225660324097
recall class 0 = 0.9898490309715271
recall class 1 = 0.6154826283454895
AUC of ROC = 0.9535777643309725
AUC of PRC = 0.8267789698457559
min(+P, Se) = 0.7476903472443454

==>predicting on validation


confusion matrix:
[[2671  115]
 [ 274  162]]
accuracy = 0.8792675137519836
precision class 0 = 0.9069609642028809
precision class 1 = 0.5848375558853149
recall class 0 = 0.9587221741676331
recall class 1 = 0.37155961990356445
AUC of ROC = 0.8494923832794379
AUC of PRC = 0.527658740909527
min(+P, Se) = 0.48868778280542985
Epoch 00079: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch79.test0.3101958302419094.state
 - 1081s - loss: 0.1958 - val_loss: 0.3102
Epoch 80/100

==>predicting on train


confusion matrix:
[[23317   129]
 [ 1450  1689]]
accuracy = 0.9406055808067322
precision class 0 = 0.9414543509483337
precision class 1 = 0.9290428757667542
recall class 0 = 0.9944980144500732
recall class 1 = 0.5380694270133972
AUC of ROC = 0.9522328996208731
AUC of PRC = 0.8220619921962927
min(+P, Se) = 0.7406817457789104

==>predicting on validation


confusion matrix:
[[2716   70]
 [ 300  136]]
accuracy = 0.8851644992828369
precision class 0 = 0.9005305171012878
precision class 1 = 0.6601941585540771
recall class 0 = 0.9748743772506714
recall class 1 = 0.31192660331726074
AUC of ROC = 0.8466422874529923
AUC of PRC = 0.5192211381666341
min(+P, Se) = 0.4726027397260274
Epoch 00080: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch80.test0.3136085618835366.state
 - 1093s - loss: 0.1951 - val_loss: 0.3136
Epoch 81/100

==>predicting on train


confusion matrix:
[[23180   266]
 [ 1149  1990]]
accuracy = 0.9467744827270508
precision class 0 = 0.9527724385261536
precision class 1 = 0.8820921778678894
recall class 0 = 0.9886547923088074
recall class 1 = 0.6339598894119263
AUC of ROC = 0.9541952623771564
AUC of PRC = 0.830055850474766
min(+P, Se) = 0.7518317935648295

==>predicting on validation


confusion matrix:
[[2678  108]
 [ 276  160]]
accuracy = 0.8808193802833557
precision class 0 = 0.906567394733429
precision class 1 = 0.5970149040222168
recall class 0 = 0.9612347483634949
recall class 1 = 0.3669724762439728
AUC of ROC = 0.8507585437014693
AUC of PRC = 0.5155112695185587
min(+P, Se) = 0.4954128440366973
Epoch 00081: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch81.test0.3212348611772171.state
 - 1094s - loss: 0.1952 - val_loss: 0.3212
Epoch 82/100

==>predicting on train


confusion matrix:
[[23290   156]
 [ 1338  1801]]
accuracy = 0.9438028931617737
precision class 0 = 0.9456716179847717
precision class 1 = 0.9202861785888672
recall class 0 = 0.9933463931083679
recall class 1 = 0.5737496018409729
AUC of ROC = 0.9538687340953084
AUC of PRC = 0.8288363098206863
min(+P, Se) = 0.7489646384198789

==>predicting on validation


confusion matrix:
[[2710   76]
 [ 301  135]]
accuracy = 0.8829919099807739
precision class 0 = 0.9000332355499268
precision class 1 = 0.6398104429244995
recall class 0 = 0.972720742225647
recall class 1 = 0.3096330165863037
AUC of ROC = 0.8463590890230973
AUC of PRC = 0.5245705338590212
min(+P, Se) = 0.49673202614379086
Epoch 00082: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch82.test0.31118744721810765.state
 - 1104s - loss: 0.1952 - val_loss: 0.3112
Epoch 83/100

==>predicting on train


confusion matrix:
[[23274   172]
 [ 1337  1802]]
accuracy = 0.9432386755943298
precision class 0 = 0.9456747174263
precision class 1 = 0.9128672480583191
recall class 0 = 0.9926639795303345
recall class 1 = 0.5740681886672974
AUC of ROC = 0.9534574061543872
AUC of PRC = 0.8279245732671798
min(+P, Se) = 0.7496022908049634

==>predicting on validation


confusion matrix:
[[2699   87]
 [ 293  143]]
accuracy = 0.8820608258247375
precision class 0 = 0.9020721912384033
precision class 1 = 0.6217391490936279
recall class 0 = 0.9687724113464355
recall class 1 = 0.3279816508293152
AUC of ROC = 0.8482525668973967
AUC of PRC = 0.5248930908126473
min(+P, Se) = 0.494279176201373
Epoch 00083: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch83.test0.3135078077353098.state
 - 1092s - loss: 0.1968 - val_loss: 0.3135
Epoch 84/100

==>predicting on train


confusion matrix:
[[23255   191]
 [ 1293  1846]]
accuracy = 0.9441790580749512
precision class 0 = 0.9473276734352112
precision class 1 = 0.9062346816062927
recall class 0 = 0.9918535947799683
recall class 1 = 0.5880853533744812
AUC of ROC = 0.953983996955093
AUC of PRC = 0.8287603903376911
min(+P, Se) = 0.7538216560509554

==>predicting on validation


confusion matrix:
[[2692   94]
 [ 297  139]]
accuracy = 0.8786467909812927
precision class 0 = 0.9006356596946716
precision class 1 = 0.5965664982795715
recall class 0 = 0.9662598967552185
recall class 1 = 0.31880733370780945
AUC of ROC = 0.8477133373288461
AUC of PRC = 0.5083439660399778
min(+P, Se) = 0.47380410022779046
Epoch 00084: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch84.test0.3282875482716744.state
 - 1094s - loss: 0.1938 - val_loss: 0.3283
Epoch 85/100

==>predicting on train


confusion matrix:
[[23218   228]
 [ 1240  1899]]
accuracy = 0.9447808861732483
precision class 0 = 0.9493008255958557
precision class 1 = 0.8928067684173584
recall class 0 = 0.990275502204895
recall class 1 = 0.6049697399139404
AUC of ROC = 0.9540866981605254
AUC of PRC = 0.8288842065969299
min(+P, Se) = 0.7449109414758269

==>predicting on validation


confusion matrix:
[[2685  101]
 [ 282  154]]
accuracy = 0.8811297416687012
precision class 0 = 0.9049544930458069
precision class 1 = 0.6039215922355652
recall class 0 = 0.9637473225593567
recall class 1 = 0.35321101546287537
AUC of ROC = 0.8478656388100397
AUC of PRC = 0.514666820927381
min(+P, Se) = 0.481651376146789
Epoch 00085: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch85.test0.3222044031861256.state
 - 1093s - loss: 0.1934 - val_loss: 0.3222
Epoch 86/100

==>predicting on train


confusion matrix:
[[23308   138]
 [ 1395  1744]]
accuracy = 0.9423359036445618
precision class 0 = 0.9435291290283203
precision class 1 = 0.9266737699508667
recall class 0 = 0.9941141605377197
recall class 1 = 0.5555909276008606
AUC of ROC = 0.9536618234706705
AUC of PRC = 0.8285434046423485
min(+P, Se) = 0.7423566878980892

==>predicting on validation


confusion matrix:
[[2708   78]
 [ 300  136]]
accuracy = 0.8826815485954285
precision class 0 = 0.9002659320831299
precision class 1 = 0.6355140209197998
recall class 0 = 0.9720028638839722
recall class 1 = 0.31192660331726074
AUC of ROC = 0.846951006671628
AUC of PRC = 0.5205283268804872
min(+P, Se) = 0.5
Epoch 00086: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch86.test0.31763036372192077.state
 - 1091s - loss: 0.1966 - val_loss: 0.3176
Epoch 87/100

==>predicting on train


confusion matrix:
[[23282   164]
 [ 1309  1830]]
accuracy = 0.9445928335189819
precision class 0 = 0.946769118309021
precision class 1 = 0.917753279209137
recall class 0 = 0.9930052161216736
recall class 1 = 0.5829882025718689
AUC of ROC = 0.9544620124023
AUC of PRC = 0.8316928553686004
min(+P, Se) = 0.7524689391525964

==>predicting on validation


confusion matrix:
[[2699   87]
 [ 298  138]]
accuracy = 0.8805090188980103
precision class 0 = 0.9005672335624695
precision class 1 = 0.6133333444595337
recall class 0 = 0.9687724113464355
recall class 1 = 0.3165137469768524
AUC of ROC = 0.845040240521085
AUC of PRC = 0.5194449695215245
min(+P, Se) = 0.48623853211009177
Epoch 00087: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch87.test0.31260798155826713.state
 - 1097s - loss: 0.1946 - val_loss: 0.3126
Epoch 88/100

==>predicting on train


confusion matrix:
[[23223   223]
 [ 1248  1891]]
accuracy = 0.9446680545806885
precision class 0 = 0.9490008354187012
precision class 1 = 0.8945127725601196
recall class 0 = 0.9904887676239014
recall class 1 = 0.6024211645126343
AUC of ROC = 0.952181470889966
AUC of PRC = 0.8238678687174364
min(+P, Se) = 0.7489646384198789

==>predicting on validation


confusion matrix:
[[2685  101]
 [ 281  155]]
accuracy = 0.8814401030540466
precision class 0 = 0.9052596092224121
precision class 1 = 0.60546875
recall class 0 = 0.9637473225593567
recall class 1 = 0.35550457239151
AUC of ROC = 0.8510277468601196
AUC of PRC = 0.5139606806554092
min(+P, Se) = 0.4789356984478936
Epoch 00088: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch88.test0.3141788031505843.state
 - 1096s - loss: 0.1956 - val_loss: 0.3142
Epoch 89/100

==>predicting on train


confusion matrix:
[[23251   195]
 [ 1224  1915]]
accuracy = 0.9466240406036377
precision class 0 = 0.9499897956848145
precision class 1 = 0.9075829386711121
recall class 0 = 0.9916830062866211
recall class 1 = 0.6100668907165527
AUC of ROC = 0.9553154915539077
AUC of PRC = 0.8325247533778826
min(+P, Se) = 0.7524689391525964

==>predicting on validation


confusion matrix:
[[2694   92]
 [ 284  152]]
accuracy = 0.8833022713661194
precision class 0 = 0.9046339988708496
precision class 1 = 0.6229507923126221
recall class 0 = 0.9669777750968933
recall class 1 = 0.3486238420009613
AUC of ROC = 0.8456963717670921
AUC of PRC = 0.5138867657622243
min(+P, Se) = 0.4885844748858447
Epoch 00089: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch89.test0.31678436150800954.state
 - 1101s - loss: 0.1941 - val_loss: 0.3168
Epoch 90/100

==>predicting on train


confusion matrix:
[[23232   214]
 [ 1211  1928]]
accuracy = 0.9463983178138733
precision class 0 = 0.9504561424255371
precision class 1 = 0.9000933766365051
recall class 0 = 0.9908726215362549
recall class 1 = 0.6142083406448364
AUC of ROC = 0.9544672300067039
AUC of PRC = 0.8315423031793993
min(+P, Se) = 0.747856462369006

==>predicting on validation


confusion matrix:
[[2691   95]
 [ 284  152]]
accuracy = 0.882371187210083
precision class 0 = 0.9045377969741821
precision class 1 = 0.6153846383094788
recall class 0 = 0.9659009575843811
recall class 1 = 0.3486238420009613
AUC of ROC = 0.8501435750179469
AUC of PRC = 0.5158283628160691
min(+P, Se) = 0.4863013698630137
Epoch 00090: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch90.test0.323584769272623.state
 - 1093s - loss: 0.1955 - val_loss: 0.3236
Epoch 91/100

==>predicting on train


confusion matrix:
[[23217   229]
 [ 1190  1949]]
accuracy = 0.9466240406036377
precision class 0 = 0.95124351978302
precision class 1 = 0.89485764503479
recall class 0 = 0.9902328848838806
recall class 1 = 0.6208983659744263
AUC of ROC = 0.9546861655789909
AUC of PRC = 0.8328774653920082
min(+P, Se) = 0.7464160560688117

==>predicting on validation


confusion matrix:
[[2678  108]
 [ 285  151]]
accuracy = 0.8780260682106018
precision class 0 = 0.9038137197494507
precision class 1 = 0.5830115675926208
recall class 0 = 0.9612347483634949
recall class 1 = 0.34633028507232666
AUC of ROC = 0.8426429328819721
AUC of PRC = 0.5042377679914013
min(+P, Se) = 0.4908675799086758
Epoch 00091: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch91.test0.31868069525056564.state
 - 1103s - loss: 0.1940 - val_loss: 0.3187
Epoch 92/100

==>predicting on train


confusion matrix:
[[23274   172]
 [ 1296  1843]]
accuracy = 0.9447808861732483
precision class 0 = 0.9472527503967285
precision class 1 = 0.9146401882171631
recall class 0 = 0.9926639795303345
recall class 1 = 0.5871296525001526
AUC of ROC = 0.9544518081811874
AUC of PRC = 0.8333099478347117
min(+P, Se) = 0.7511946479770628

==>predicting on validation


confusion matrix:
[[2689   97]
 [ 296  140]]
accuracy = 0.8780260682106018
precision class 0 = 0.9008375406265259
precision class 1 = 0.5907173156738281
recall class 0 = 0.9651830792427063
recall class 1 = 0.3211009204387665
AUC of ROC = 0.8456477999433604
AUC of PRC = 0.5101503791254638
min(+P, Se) = 0.48873873873873874
Epoch 00092: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch92.test0.3216761321171628.state
 - 1090s - loss: 0.1915 - val_loss: 0.3217
Epoch 93/100

==>predicting on train


confusion matrix:
[[23271   175]
 [ 1309  1830]]
accuracy = 0.9441790580749512
precision class 0 = 0.9467453360557556
precision class 1 = 0.9127181768417358
recall class 0 = 0.9925360679626465
recall class 1 = 0.5829882025718689
AUC of ROC = 0.9552662572061027
AUC of PRC = 0.8334777883835744
min(+P, Se) = 0.7525477707006369

==>predicting on validation


confusion matrix:
[[2689   97]
 [ 297  139]]
accuracy = 0.8777157068252563
precision class 0 = 0.9005358219146729
precision class 1 = 0.5889830589294434
recall class 0 = 0.9651830792427063
recall class 1 = 0.31880733370780945
AUC of ROC = 0.8393532208881893
AUC of PRC = 0.5009704179670061
min(+P, Se) = 0.481651376146789
Epoch 00093: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch93.test0.3328350494707652.state
 - 1107s - loss: 0.1932 - val_loss: 0.3328
Epoch 94/100

==>predicting on train


confusion matrix:
[[23241   205]
 [ 1202  1937]]
accuracy = 0.9470754265785217
precision class 0 = 0.9508243799209595
precision class 1 = 0.904295027256012
recall class 0 = 0.9912564754486084
recall class 1 = 0.617075502872467
AUC of ROC = 0.9550933017726241
AUC of PRC = 0.8326083274841614
min(+P, Se) = 0.7535816618911175

==>predicting on validation


confusion matrix:
[[2687   99]
 [ 284  152]]
accuracy = 0.8811297416687012
precision class 0 = 0.9044092893600464
precision class 1 = 0.6055777072906494
recall class 0 = 0.9644652009010315
recall class 1 = 0.3486238420009613
AUC of ROC = 0.844043283257704
AUC of PRC = 0.5105977159720818
min(+P, Se) = 0.481651376146789
Epoch 00094: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch94.test0.3146901550887165.state
 - 1103s - loss: 0.1928 - val_loss: 0.3147
Epoch 95/100

==>predicting on train


confusion matrix:
[[23277   169]
 [ 1275  1864]]
accuracy = 0.9456836581230164
precision class 0 = 0.9480693936347961
precision class 1 = 0.9168716073036194
recall class 0 = 0.9927919507026672
recall class 1 = 0.5938196778297424
AUC of ROC = 0.956249925098843
AUC of PRC = 0.835291195170759
min(+P, Se) = 0.758521822236381

==>predicting on validation


confusion matrix:
[[2699   87]
 [ 297  139]]
accuracy = 0.8808193802833557
precision class 0 = 0.9008678197860718
precision class 1 = 0.6150442361831665
recall class 0 = 0.9687724113464355
recall class 1 = 0.31880733370780945
AUC of ROC = 0.8457457668420741
AUC of PRC = 0.5129914247340606
min(+P, Se) = 0.49311926605504586
Epoch 00095: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch95.test0.32216765514669177.state
 - 1097s - loss: 0.1926 - val_loss: 0.3222
Epoch 96/100

==>predicting on train


confusion matrix:
[[23238   208]
 [ 1176  1963]]
accuracy = 0.9479405879974365
precision class 0 = 0.9518309235572815
precision class 1 = 0.9041916131973267
recall class 0 = 0.9911285638809204
recall class 1 = 0.6253584027290344
AUC of ROC = 0.9566325765968106
AUC of PRC = 0.8348114678870504
min(+P, Se) = 0.7594775406180312

==>predicting on validation


confusion matrix:
[[2686  100]
 [ 280  156]]
accuracy = 0.8820608258247375
precision class 0 = 0.9055967926979065
precision class 1 = 0.609375
recall class 0 = 0.9641062617301941
recall class 1 = 0.35779815912246704
AUC of ROC = 0.8460232025132215
AUC of PRC = 0.5132892927805925
min(+P, Se) = 0.48394495412844035
Epoch 00096: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch96.test0.309735108738098.state
 - 1094s - loss: 0.1944 - val_loss: 0.3097
Epoch 97/100

==>predicting on train


confusion matrix:
[[23180   266]
 [ 1165  1974]]
accuracy = 0.9461726546287537
precision class 0 = 0.9521462321281433
precision class 1 = 0.8812500238418579
recall class 0 = 0.9886547923088074
recall class 1 = 0.6288626790046692
AUC of ROC = 0.9552681730452197
AUC of PRC = 0.8312711316172207
min(+P, Se) = 0.7484076433121019

==>predicting on validation


confusion matrix:
[[2663  123]
 [ 274  162]]
accuracy = 0.87678462266922
precision class 0 = 0.9067075252532959
precision class 1 = 0.5684210658073425
recall class 0 = 0.9558506608009338
recall class 1 = 0.37155961990356445
AUC of ROC = 0.8413207913749613
AUC of PRC = 0.4878918888436598
min(+P, Se) = 0.4793577981651376
Epoch 00097: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch97.test0.3318624626324829.state
 - 1099s - loss: 0.1950 - val_loss: 0.3319
Epoch 98/100

==>predicting on train


confusion matrix:
[[23266   180]
 [ 1258  1881]]
accuracy = 0.945909321308136
precision class 0 = 0.9487032890319824
precision class 1 = 0.9126637578010559
recall class 0 = 0.9923228025436401
recall class 1 = 0.5992354154586792
AUC of ROC = 0.9561044028510186
AUC of PRC = 0.8358856816757309
min(+P, Se) = 0.7591589678241478

==>predicting on validation


confusion matrix:
[[2691   95]
 [ 296  140]]
accuracy = 0.8786467909812927
precision class 0 = 0.9009039402008057
precision class 1 = 0.5957446694374084
recall class 0 = 0.9659009575843811
recall class 1 = 0.3211009204387665
AUC of ROC = 0.8366644823066842
AUC of PRC = 0.4899653093907877
min(+P, Se) = 0.47706422018348627
Epoch 00098: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch98.test0.32379130245846005.state
 - 1100s - loss: 0.1931 - val_loss: 0.3238
Epoch 99/100

==>predicting on train


confusion matrix:
[[23252   194]
 [ 1203  1936]]
accuracy = 0.9474515914916992
precision class 0 = 0.9508076310157776
precision class 1 = 0.908920168876648
recall class 0 = 0.9917256832122803
recall class 1 = 0.6167569160461426
AUC of ROC = 0.9556598398570463
AUC of PRC = 0.8381423468376908
min(+P, Se) = 0.7562918126791972

==>predicting on validation


confusion matrix:
[[2693   93]
 [ 300  136]]
accuracy = 0.8780260682106018
precision class 0 = 0.8997661471366882
precision class 1 = 0.5938864350318909
recall class 0 = 0.9666188359260559
recall class 1 = 0.31192660331726074
AUC of ROC = 0.8425515519932559
AUC of PRC = 0.49432610467736054
min(+P, Se) = 0.4759725400457666
Epoch 00099: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch99.test0.33063233656257224.state
 - 1100s - loss: 0.1925 - val_loss: 0.3306
Epoch 100/100

==>predicting on train


confusion matrix:
[[23218   228]
 [ 1195  1944]]
accuracy = 0.9464735984802246
precision class 0 = 0.9510506987571716
precision class 1 = 0.8950276374816895
recall class 0 = 0.990275502204895
recall class 1 = 0.6193054914474487
AUC of ROC = 0.9554897581822431
AUC of PRC = 0.8323451231968456
min(+P, Se) = 0.7525477707006369

==>predicting on validation


confusion matrix:
[[2687   99]
 [ 291  145]]
accuracy = 0.8789571523666382
precision class 0 = 0.9022834300994873
precision class 1 = 0.5942623019218445
recall class 0 = 0.9644652009010315
recall class 1 = 0.33256879448890686
AUC of ROC = 0.8454403406284373
AUC of PRC = 0.49722331827304894
min(+P, Se) = 0.48853211009174313
Epoch 00100: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch100.test0.32330839927895033.state
 - 1094s - loss: 0.1909 - val_loss: 0.3233
154966.60user 18690.99system 30:27:06elapsed 158%CPU (0avgtext+0avgdata 5368492maxresident)k
0inputs+27448outputs (0major+1391335minor)pagefaults 0swaps
****************ten_unit***********
cp: cannot stat '/home/danfeng/sharmin/githubdownload/train_full_list_ten_unit_added.csv': No such file or directory
Using TensorFlow backend.
Namespace(batch_norm=False, batch_size=8, beta_1=0.9, data='/home/danfeng/sharmin/anothermimic/mimic3-benchmarks/mimic3models/in_hospital_mortality/../../data/in-hospital-mortality/', depth=2, dim=16, dropout=0.3, epochs=100, imputation='previous', l1=0, l2=0, load_state='', lr=0.001, mode='train', network='mimic3models/keras_models/lstm.py', normalizer_state=None, optimizer='adam', output_dir='mimic3models/in_hospital_mortality', prefix='', rec_dropout=0.0, save_every=1, size_coef=4.0, small_part=False, target_repl_coef=0.0, timestep=1.0, verbose=2)
Traceback (most recent call last):
  File "/home/danfeng/anaconda3/envs/shaenvgpu/lib/python3.5/runpy.py", line 193, in _run_module_as_main
    "__main__", mod_spec)
  File "/home/danfeng/anaconda3/envs/shaenvgpu/lib/python3.5/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/home/danfeng/sharmin/anothermimic/mimic3-benchmarks/mimic3models/in_hospital_mortality/main.py", line 38, in <module>
    period_length=48.0)
  File "/home/danfeng/sharmin/anothermimic/mimic3-benchmarks/mimic3benchmark/readers.py", line 107, in __init__
    Reader.__init__(self, dataset_dir, listfile)
  File "/home/danfeng/sharmin/anothermimic/mimic3-benchmarks/mimic3benchmark/readers.py", line 17, in __init__
    with open(listfile_path, "r") as lfile:
FileNotFoundError: [Errno 2] No such file or directory: '/home/danfeng/sharmin/anothermimic/mimic3-benchmarks/mimic3models/in_hospital_mortality/../../data/in-hospital-mortality/train_listfile.csv'
Command exited with non-zero status 1
1.68user 0.58system 0:01.67elapsed 135%CPU (0avgtext+0avgdata 207432maxresident)k
32inputs+0outputs (0major+43995minor)pagefaults 0swaps
****************12_unit***********
rm: cannot remove '/home/danfeng/sharmin/anothermimic/mimic3-benchmarks/data/in-hospital-mortality/train_listfile.csv': No such file or directory
Using TensorFlow backend.
Namespace(batch_norm=False, batch_size=8, beta_1=0.9, data='/home/danfeng/sharmin/anothermimic/mimic3-benchmarks/mimic3models/in_hospital_mortality/../../data/in-hospital-mortality/', depth=2, dim=16, dropout=0.3, epochs=100, imputation='previous', l1=0, l2=0, load_state='', lr=0.001, mode='train', network='mimic3models/keras_models/lstm.py', normalizer_state=None, optimizer='adam', output_dir='mimic3models/in_hospital_mortality', prefix='', rec_dropout=0.0, save_every=1, size_coef=4.0, small_part=False, target_repl_coef=0.0, timestep=1.0, verbose=2)
==> using model mimic3models/keras_models/lstm.py
==> not used params in network class: dict_keys(['load_state', 'batch_size', 'beta_1', 'l1', 'save_every', 'timestep', 'normalizer_state', 'target_repl_coef', 'size_coef', 'epochs', 'data', 'prefix', 'output_dir', 'mode', 'imputation', 'header', 'l2', 'verbose', 'small_part', 'network', 'lr', 'optimizer'])
WARNING:tensorflow:From /home/danfeng/anaconda3/envs/shaenvgpu/lib/python3.5/site-packages/keras/backend/tensorflow_backend.py:1364: calling reduce_any (from tensorflow.python.ops.math_ops) with keep_dims is deprecated and will be removed in a future version.
Instructions for updating:
keep_dims is deprecated, use keepdims instead
WARNING:tensorflow:From /home/danfeng/anaconda3/envs/shaenvgpu/lib/python3.5/site-packages/keras/backend/tensorflow_backend.py:1247: calling reduce_sum (from tensorflow.python.ops.math_ops) with keep_dims is deprecated and will be removed in a future version.
Instructions for updating:
keep_dims is deprecated, use keepdims instead
==> model.final_name: k_lstm.n16.d0.3.dep2.bs8.ts1.0
==> compiling the model
WARNING:tensorflow:From /home/danfeng/anaconda3/envs/shaenvgpu/lib/python3.5/site-packages/keras/backend/tensorflow_backend.py:1349: calling reduce_mean (from tensorflow.python.ops.math_ops) with keep_dims is deprecated and will be removed in a future version.
Instructions for updating:
keep_dims is deprecated, use keepdims instead
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
X (InputLayer)               (None, None, 76)          0         
_________________________________________________________________
masking_1 (Masking)          (None, None, 76)          0         
_________________________________________________________________
bidirectional_1 (Bidirection (None, None, 16)          5440      
_________________________________________________________________
lstm_2 (LSTM)                (None, 16)                2112      
_________________________________________________________________
dropout_1 (Dropout)          (None, 16)                0         
_________________________________________________________________
dense_1 (Dense)              (None, 1)                 17        
=================================================================
Total params: 7,569
Trainable params: 7,569
Non-trainable params: 0
_________________________________________________________________
==> training
Train on 31049 samples, validate on 3222 samples
Epoch 1/100
2020-08-21 01:58:33.511219: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 AVX512F FMA
2020-08-21 01:58:33.651030: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:897] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2020-08-21 01:58:33.651826: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1405] Found device 0 with properties: 
name: GRID P40-12Q major: 6 minor: 1 memoryClockRate(GHz): 1.531
pciBusID: 0000:00:0a.0
totalMemory: 12.00GiB freeMemory: 703.86MiB
2020-08-21 01:58:33.651872: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1484] Adding visible gpu devices: 0
2020-08-21 01:58:33.924969: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Device interconnect StreamExecutor with strength 1 edge matrix:
2020-08-21 01:58:33.925032: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971]      0 
2020-08-21 01:58:33.925046: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] 0:   N 
2020-08-21 01:58:33.925273: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1097] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 416 MB memory) -> physical GPU (device: 0, name: GRID P40-12Q, pci bus id: 0000:00:0a.0, compute capability: 6.1)

==>predicting on train


confusion matrix:
[[27215   263]
 [ 2803   768]]
accuracy = 0.9012528657913208
precision class 0 = 0.9066227078437805
precision class 1 = 0.7449078559875488
recall class 0 = 0.9904286861419678
recall class 1 = 0.21506580710411072
AUC of ROC = 0.860086383813907
AUC of PRC = 0.5272976753401316
min(+P, Se) = 0.5144217306076729

==>predicting on validation


confusion matrix:
[[2755   31]
 [ 364   72]]
accuracy = 0.8774053454399109
precision class 0 = 0.8832959532737732
precision class 1 = 0.6990291476249695
recall class 0 = 0.9888729453086853
recall class 1 = 0.1651376187801361
AUC of ROC = 0.8329936049842923
AUC of PRC = 0.4993925749425348
min(+P, Se) = 0.481651376146789
Epoch 00001: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch1.test0.3256599192503518.state
 - 1286s - loss: 0.2942 - val_loss: 0.3257
Epoch 2/100

==>predicting on train


confusion matrix:
[[27281   197]
 [ 2693   878]]
accuracy = 0.9069213271141052
precision class 0 = 0.9101554751396179
precision class 1 = 0.8167442083358765
recall class 0 = 0.9928306341171265
recall class 1 = 0.2458695024251938
AUC of ROC = 0.8780528661619755
AUC of PRC = 0.5947869947958553
min(+P, Se) = 0.5597871744609353

==>predicting on validation


confusion matrix:
[[2758   28]
 [ 358   78]]
accuracy = 0.8801986575126648
precision class 0 = 0.8851091265678406
precision class 1 = 0.7358490824699402
recall class 0 = 0.9899497628211975
recall class 1 = 0.17889907956123352
AUC of ROC = 0.8376618511956901
AUC of PRC = 0.503772490791595
min(+P, Se) = 0.5
Epoch 00002: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch2.test0.314494647025544.state
 - 1288s - loss: 0.2687 - val_loss: 0.3145
Epoch 3/100

==>predicting on train


confusion matrix:
[[27159   319]
 [ 2386  1185]]
accuracy = 0.9128796458244324
precision class 0 = 0.9192418456077576
precision class 1 = 0.7878989577293396
recall class 0 = 0.9883906841278076
recall class 1 = 0.33183982968330383
AUC of ROC = 0.885840252355139
AUC of PRC = 0.6127401611253158
min(+P, Se) = 0.5859462486002239

==>predicting on validation


confusion matrix:
[[2730   56]
 [ 340   96]]
accuracy = 0.8770949840545654
precision class 0 = 0.8892508149147034
precision class 1 = 0.6315789222717285
recall class 0 = 0.979899525642395
recall class 1 = 0.22018349170684814
AUC of ROC = 0.8451661979622884
AUC of PRC = 0.4979840420379931
min(+P, Se) = 0.5068807339449541
Epoch 00003: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch3.test0.3123658317112908.state
 - 1272s - loss: 0.2566 - val_loss: 0.3124
Epoch 4/100

==>predicting on train


confusion matrix:
[[27220   258]
 [ 2157  1414]]
accuracy = 0.9222196936607361
precision class 0 = 0.9265751838684082
precision class 1 = 0.8456937670707703
recall class 0 = 0.990610659122467
recall class 1 = 0.3959675133228302
AUC of ROC = 0.898137970165853
AUC of PRC = 0.6533576219957987
min(+P, Se) = 0.5856183547845552

==>predicting on validation


confusion matrix:
[[2720   66]
 [ 326  110]]
accuracy = 0.8783364295959473
precision class 0 = 0.8929743766784668
precision class 1 = 0.625
recall class 0 = 0.976310133934021
recall class 1 = 0.25229358673095703
AUC of ROC = 0.8444425601138063
AUC of PRC = 0.48798777725886616
min(+P, Se) = 0.49770642201834864
Epoch 00004: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch4.test0.3023814486373218.state
 - 1270s - loss: 0.2509 - val_loss: 0.3024
Epoch 5/100

==>predicting on train


confusion matrix:
[[27167   311]
 [ 2092  1479]]
accuracy = 0.9226062297821045
precision class 0 = 0.9285006523132324
precision class 1 = 0.8262569904327393
recall class 0 = 0.9886818528175354
recall class 1 = 0.41416969895362854
AUC of ROC = 0.8940179000969163
AUC of PRC = 0.6539891014372092
min(+P, Se) = 0.5869504340520862

==>predicting on validation


confusion matrix:
[[2718   68]
 [ 317  119]]
accuracy = 0.8805090188980103
precision class 0 = 0.8955519199371338
precision class 1 = 0.6363636255264282
recall class 0 = 0.9755922555923462
recall class 1 = 0.27293577790260315
AUC of ROC = 0.8471741077602957
AUC of PRC = 0.4960606130033067
min(+P, Se) = 0.4988558352402746
Epoch 00005: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch5.test0.30794436804612624.state
 - 1280s - loss: 0.2426 - val_loss: 0.3079
Epoch 6/100

==>predicting on train


confusion matrix:
[[27144   334]
 [ 1951  1620]]
accuracy = 0.9264066219329834
precision class 0 = 0.9329438209533691
precision class 1 = 0.8290686011314392
recall class 0 = 0.9878448247909546
recall class 1 = 0.4536544382572174
AUC of ROC = 0.904529218955725
AUC of PRC = 0.6843087830546051
min(+P, Se) = 0.6159014557670772

==>predicting on validation


confusion matrix:
[[2713   73]
 [ 317  119]]
accuracy = 0.8789571523666382
precision class 0 = 0.8953795433044434
precision class 1 = 0.6197916865348816
recall class 0 = 0.9737975597381592
recall class 1 = 0.27293577790260315
AUC of ROC = 0.8461565692156721
AUC of PRC = 0.49845650460695146
min(+P, Se) = 0.5045454545454545
Epoch 00006: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch6.test0.30273966853808054.state
 - 1271s - loss: 0.2382 - val_loss: 0.3027
Epoch 7/100

==>predicting on train


confusion matrix:
[[26874   604]
 [ 1731  1840]]
accuracy = 0.9247962832450867
precision class 0 = 0.9394860863685608
precision class 1 = 0.7528641819953918
recall class 0 = 0.9780187606811523
recall class 1 = 0.5152618288993835
AUC of ROC = 0.9114124424969572
AUC of PRC = 0.6921638905553948
min(+P, Se) = 0.6273413474979033

==>predicting on validation


confusion matrix:
[[2671  115]
 [ 291  145]]
accuracy = 0.8739913105964661
precision class 0 = 0.9017555713653564
precision class 1 = 0.557692289352417
recall class 0 = 0.9587221741676331
recall class 1 = 0.33256879448890686
AUC of ROC = 0.846597831885509
AUC of PRC = 0.49512332279594934
min(+P, Se) = 0.5045871559633027
Epoch 00007: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch7.test0.30583338422815226.state
 - 1272s - loss: 0.2338 - val_loss: 0.3058
Epoch 8/100

==>predicting on train


confusion matrix:
[[27134   344]
 [ 1826  1745]]
accuracy = 0.9301104545593262
precision class 0 = 0.9369475245475769
precision class 1 = 0.8353279232978821
recall class 0 = 0.987480878829956
recall class 1 = 0.4886586368083954
AUC of ROC = 0.9146133535733145
AUC of PRC = 0.7094100986821327
min(+P, Se) = 0.6343784994400896

==>predicting on validation


confusion matrix:
[[2699   87]
 [ 300  136]]
accuracy = 0.8798882961273193
precision class 0 = 0.8999666571617126
precision class 1 = 0.6098654866218567
recall class 0 = 0.9687724113464355
recall class 1 = 0.31192660331726074
AUC of ROC = 0.8465788971067657
AUC of PRC = 0.5077483535686295
min(+P, Se) = 0.5252293577981652
Epoch 00008: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch8.test0.31487014576848216.state
 - 1271s - loss: 0.2306 - val_loss: 0.3149
Epoch 9/100

==>predicting on train


confusion matrix:
[[26775   703]
 [ 1540  2031]]
accuracy = 0.9277593493461609
precision class 0 = 0.9456118941307068
precision class 1 = 0.7428675889968872
recall class 0 = 0.9744158983230591
recall class 1 = 0.5687482357025146
AUC of ROC = 0.9161526109969211
AUC of PRC = 0.7119222840371906
min(+P, Se) = 0.6426771212545506

==>predicting on validation


confusion matrix:
[[2650  136]
 [ 270  166]]
accuracy = 0.8739913105964661
precision class 0 = 0.9075342416763306
precision class 1 = 0.5496688485145569
recall class 0 = 0.9511845111846924
recall class 1 = 0.3807339370250702
AUC of ROC = 0.8489729117408801
AUC of PRC = 0.49461224570568724
min(+P, Se) = 0.5090497737556561
Epoch 00009: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch9.test0.30828280032402533.state
 - 1272s - loss: 0.2266 - val_loss: 0.3083
Epoch 10/100

==>predicting on train


confusion matrix:
[[27180   298]
 [ 1810  1761]]
accuracy = 0.9321073293685913
precision class 0 = 0.9375646710395813
precision class 1 = 0.8552695512771606
recall class 0 = 0.9891549348831177
recall class 1 = 0.4931391775608063
AUC of ROC = 0.9246893658100024
AUC of PRC = 0.7312776474890488
min(+P, Se) = 0.6499579949593951

==>predicting on validation


confusion matrix:
[[2694   92]
 [ 308  128]]
accuracy = 0.8758534789085388
precision class 0 = 0.897401750087738
precision class 1 = 0.581818163394928
recall class 0 = 0.9669777750968933
recall class 1 = 0.29357796907424927
AUC of ROC = 0.8435526255128855
AUC of PRC = 0.494583217997044
min(+P, Se) = 0.509009009009009
Epoch 00010: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch10.test0.3072176723146128.state
 - 1275s - loss: 0.2237 - val_loss: 0.3072
Epoch 11/100

==>predicting on train


confusion matrix:
[[27294   184]
 [ 1957  1614]]
accuracy = 0.9310444593429565
precision class 0 = 0.9330962896347046
precision class 1 = 0.8976640701293945
recall class 0 = 0.9933037161827087
recall class 1 = 0.4519742429256439
AUC of ROC = 0.9193217968891547
AUC of PRC = 0.730682031417067
min(+P, Se) = 0.6563987678521422

==>predicting on validation


confusion matrix:
[[2725   61]
 [ 330  106]]
accuracy = 0.8786467909812927
precision class 0 = 0.8919803500175476
precision class 1 = 0.6347305178642273
recall class 0 = 0.978104829788208
recall class 1 = 0.2431192696094513
AUC of ROC = 0.852983791829396
AUC of PRC = 0.5164785461785105
min(+P, Se) = 0.5160550458715596
Epoch 00011: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch11.test0.3112960051534747.state
 - 1275s - loss: 0.2206 - val_loss: 0.3113
Epoch 12/100

==>predicting on train


confusion matrix:
[[27167   311]
 [ 1761  1810]]
accuracy = 0.9332667589187622
precision class 0 = 0.9391247034072876
precision class 1 = 0.8533710241317749
recall class 0 = 0.9886818528175354
recall class 1 = 0.5068608522415161
AUC of ROC = 0.9208422617526827
AUC of PRC = 0.7344550412495284
min(+P, Se) = 0.6576901721265963

==>predicting on validation


confusion matrix:
[[2708   78]
 [ 309  127]]
accuracy = 0.8798882961273193
precision class 0 = 0.8975803852081299
precision class 1 = 0.6195122003555298
recall class 0 = 0.9720028638839722
recall class 1 = 0.2912844121456146
AUC of ROC = 0.8472374981065222
AUC of PRC = 0.498530468599906
min(+P, Se) = 0.5034324942791762
Epoch 00012: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch12.test0.31485118677181756.state
 - 1276s - loss: 0.2175 - val_loss: 0.3149
Epoch 13/100

==>predicting on train


confusion matrix:
[[27312   166]
 [ 1968  1603]]
accuracy = 0.9312699437141418
precision class 0 = 0.9327868819236755
precision class 1 = 0.9061616659164429
recall class 0 = 0.9939588308334351
recall class 1 = 0.44889387488365173
AUC of ROC = 0.9289932187597281
AUC of PRC = 0.7489013475920541
min(+P, Se) = 0.669560347241669

==>predicting on validation


confusion matrix:
[[2732   54]
 [ 334  102]]
accuracy = 0.8795778751373291
precision class 0 = 0.8910632729530334
precision class 1 = 0.6538461446762085
recall class 0 = 0.980617344379425
recall class 1 = 0.23394495248794556
AUC of ROC = 0.8444746669125444
AUC of PRC = 0.5181718832229357
min(+P, Se) = 0.518348623853211
Epoch 00013: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch13.test0.319448135453285.state
 - 1275s - loss: 0.2159 - val_loss: 0.3194
Epoch 14/100

==>predicting on train


confusion matrix:
[[27025   453]
 [ 1552  2019]]
accuracy = 0.9354246258735657
precision class 0 = 0.9456905722618103
precision class 1 = 0.8167475461959839
recall class 0 = 0.9835140705108643
recall class 1 = 0.5653878450393677
AUC of ROC = 0.9301678658677559
AUC of PRC = 0.7511665633500334
min(+P, Se) = 0.6724524076147816

==>predicting on validation


confusion matrix:
[[2678  108]
 [ 277  159]]
accuracy = 0.8805090188980103
precision class 0 = 0.9062605500221252
precision class 1 = 0.5955055952072144
recall class 0 = 0.9612347483634949
recall class 1 = 0.36467888951301575
AUC of ROC = 0.8472572561365147
AUC of PRC = 0.5019231296633219
min(+P, Se) = 0.49770642201834864
Epoch 00014: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch14.test0.31820898623310356.state
 - 1280s - loss: 0.2145 - val_loss: 0.3182
Epoch 15/100

==>predicting on train


confusion matrix:
[[27224   254]
 [ 1793  1778]]
accuracy = 0.934071958065033
precision class 0 = 0.9382086396217346
precision class 1 = 0.875
recall class 0 = 0.9907562136650085
recall class 1 = 0.49789974093437195
AUC of ROC = 0.9332176058812478
AUC of PRC = 0.7566085958264401
min(+P, Se) = 0.6730876605248465

==>predicting on validation


confusion matrix:
[[2706   80]
 [ 307  129]]
accuracy = 0.8798882961273193
precision class 0 = 0.898108184337616
precision class 1 = 0.6172248721122742
recall class 0 = 0.9712849855422974
recall class 1 = 0.2958715558052063
AUC of ROC = 0.8448895855423909
AUC of PRC = 0.5087929501552231
min(+P, Se) = 0.5
Epoch 00015: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch15.test0.31815087611421083.state
 - 1282s - loss: 0.2138 - val_loss: 0.3182
Epoch 16/100

==>predicting on train


confusion matrix:
[[27218   260]
 [ 1656  1915]]
accuracy = 0.938291072845459
precision class 0 = 0.9426473379135132
precision class 1 = 0.8804597854614258
recall class 0 = 0.9905378818511963
recall class 1 = 0.5362643599510193
AUC of ROC = 0.9323557825410554
AUC of PRC = 0.7608682994239687
min(+P, Se) = 0.6888826659199104

==>predicting on validation


confusion matrix:
[[2691   95]
 [ 303  133]]
accuracy = 0.8764742612838745
precision class 0 = 0.8987975716590881
precision class 1 = 0.5833333134651184
recall class 0 = 0.9659009575843811
recall class 1 = 0.30504587292671204
AUC of ROC = 0.8458116269420497
AUC of PRC = 0.4869175155133134
min(+P, Se) = 0.4977168949771689
Epoch 00016: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch16.test0.3225294510948961.state
 - 1273s - loss: 0.2128 - val_loss: 0.3225
Epoch 17/100

==>predicting on train


confusion matrix:
[[27064   414]
 [ 1512  2059]]
accuracy = 0.9379690289497375
precision class 0 = 0.9470884799957275
precision class 1 = 0.8325920104980469
recall class 0 = 0.9849333763122559
recall class 1 = 0.5765891671180725
AUC of ROC = 0.9331741302514786
AUC of PRC = 0.7631128262313671
min(+P, Se) = 0.6867301231802911

==>predicting on validation


confusion matrix:
[[2662  124]
 [ 275  161]]
accuracy = 0.876163899898529
precision class 0 = 0.9063670635223389
precision class 1 = 0.5649122595787048
recall class 0 = 0.9554917216300964
recall class 1 = 0.3692660629749298
AUC of ROC = 0.8441577151814117
AUC of PRC = 0.4937552106597626
min(+P, Se) = 0.5125858123569794
Epoch 00017: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch17.test0.3215052041483547.state
 - 1274s - loss: 0.2095 - val_loss: 0.3215
Epoch 18/100

==>predicting on train


confusion matrix:
[[27328   150]
 [ 1921  1650]]
accuracy = 0.9332990050315857
precision class 0 = 0.9343225359916687
precision class 1 = 0.9166666865348816
recall class 0 = 0.9945411086082458
recall class 1 = 0.4620554447174072
AUC of ROC = 0.9366821936967104
AUC of PRC = 0.7680964196912147
min(+P, Se) = 0.6891626995239428

==>predicting on validation


confusion matrix:
[[2725   61]
 [ 331  105]]
accuracy = 0.8783364295959473
precision class 0 = 0.8916884660720825
precision class 1 = 0.6325300931930542
recall class 0 = 0.978104829788208
recall class 1 = 0.24082568287849426
AUC of ROC = 0.8443890487825761
AUC of PRC = 0.5073688597971265
min(+P, Se) = 0.49099099099099097
Epoch 00018: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch18.test0.3247887683832298.state
 - 1280s - loss: 0.2064 - val_loss: 0.3248
Epoch 19/100

==>predicting on train


confusion matrix:
[[27330   148]
 [ 1801  1770]]
accuracy = 0.937228262424469
precision class 0 = 0.9381757974624634
precision class 1 = 0.9228363037109375
recall class 0 = 0.9946138858795166
recall class 1 = 0.4956594705581665
AUC of ROC = 0.9372683197855348
AUC of PRC = 0.7755916932423128
min(+P, Se) = 0.6982082866741322

==>predicting on validation


confusion matrix:
[[2723   63]
 [ 317  119]]
accuracy = 0.8820608258247375
precision class 0 = 0.8957237005233765
precision class 1 = 0.6538461446762085
recall class 0 = 0.9773869514465332
recall class 1 = 0.27293577790260315
AUC of ROC = 0.8460586023169583
AUC of PRC = 0.5164511835931673
min(+P, Se) = 0.5091743119266054
Epoch 00019: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch19.test0.3210115524079399.state
 - 1266s - loss: 0.2058 - val_loss: 0.3210
Epoch 20/100

==>predicting on train


confusion matrix:
[[27228   250]
 [ 1657  1914]]
accuracy = 0.9385809302330017
precision class 0 = 0.9426345825195312
precision class 1 = 0.8844732046127319
recall class 0 = 0.9909018278121948
recall class 1 = 0.5359843373298645
AUC of ROC = 0.9388839703926275
AUC of PRC = 0.7768606918832017
min(+P, Se) = 0.7012041444973397

==>predicting on validation


confusion matrix:
[[2705   81]
 [ 299  137]]
accuracy = 0.8820608258247375
precision class 0 = 0.9004660248756409
precision class 1 = 0.6284403800964355
recall class 0 = 0.97092604637146
recall class 1 = 0.3142201900482178
AUC of ROC = 0.8441544221764129
AUC of PRC = 0.5008205369743354
min(+P, Se) = 0.48394495412844035
Epoch 00020: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch20.test0.30758832214246395.state
 - 1275s - loss: 0.2050 - val_loss: 0.3076
Epoch 21/100

==>predicting on train


confusion matrix:
[[27190   288]
 [ 1535  2036]]
accuracy = 0.9412863254547119
precision class 0 = 0.9465622305870056
precision class 1 = 0.8760757446289062
recall class 0 = 0.9895188808441162
recall class 1 = 0.5701484084129333
AUC of ROC = 0.9393520773697445
AUC of PRC = 0.7804838625308999
min(+P, Se) = 0.7057670772676372

==>predicting on validation


confusion matrix:
[[2691   95]
 [ 297  139]]
accuracy = 0.8783364295959473
precision class 0 = 0.900602400302887
precision class 1 = 0.5940170884132385
recall class 0 = 0.9659009575843811
recall class 1 = 0.31880733370780945
AUC of ROC = 0.8450937518523154
AUC of PRC = 0.49560546455598614
min(+P, Se) = 0.4908256880733945
Epoch 00021: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch21.test0.3217323474992994.state
 - 1283s - loss: 0.2023 - val_loss: 0.3217
Epoch 22/100

==>predicting on train


confusion matrix:
[[27157   321]
 [ 1490  2081]]
accuracy = 0.9416728615760803
precision class 0 = 0.9479875564575195
precision class 1 = 0.8663613796234131
recall class 0 = 0.9883179068565369
recall class 1 = 0.5827499032020569
AUC of ROC = 0.9403431505164418
AUC of PRC = 0.7823880246785015
min(+P, Se) = 0.7045645477457295

==>predicting on validation


confusion matrix:
[[2682  104]
 [ 285  151]]
accuracy = 0.8792675137519836
precision class 0 = 0.9039433598518372
precision class 1 = 0.5921568870544434
recall class 0 = 0.9626705050468445
recall class 1 = 0.34633028507232666
AUC of ROC = 0.8430850188030585
AUC of PRC = 0.4998100991309473
min(+P, Se) = 0.4919908466819222
Epoch 00022: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch22.test0.3219098187705547.state
 - 1273s - loss: 0.2023 - val_loss: 0.3219
Epoch 23/100

==>predicting on train


confusion matrix:
[[27343   135]
 [ 1864  1707]]
accuracy = 0.9356179237365723
precision class 0 = 0.9361796975135803
precision class 1 = 0.9267100691795349
recall class 0 = 0.9950869679450989
recall class 1 = 0.4780173599720001
AUC of ROC = 0.9420043251831169
AUC of PRC = 0.7904492305152145
min(+P, Se) = 0.712965555866704

==>predicting on validation


confusion matrix:
[[2735   51]
 [ 327  109]]
accuracy = 0.8826815485954285
precision class 0 = 0.8932070732116699
precision class 1 = 0.6812499761581421
recall class 0 = 0.9816941618919373
recall class 1 = 0.25
AUC of ROC = 0.8454872659496698
AUC of PRC = 0.5052586213757141
min(+P, Se) = 0.4954337899543379
Epoch 00023: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch23.test0.3094092587935192.state
 - 1279s - loss: 0.2018 - val_loss: 0.3094
Epoch 24/100

==>predicting on train


confusion matrix:
[[27060   418]
 [ 1396  2175]]
accuracy = 0.9415762424468994
precision class 0 = 0.950941801071167
precision class 1 = 0.8387967348098755
recall class 0 = 0.9847878217697144
recall class 1 = 0.6090731024742126
AUC of ROC = 0.9421645715034388
AUC of PRC = 0.7874771239467847
min(+P, Se) = 0.709785335935322

==>predicting on validation


confusion matrix:
[[2656  130]
 [ 277  159]]
accuracy = 0.8736809492111206
precision class 0 = 0.9055574536323547
precision class 1 = 0.5501729846000671
recall class 0 = 0.9533381462097168
recall class 1 = 0.36467888951301575
AUC of ROC = 0.8446854192324664
AUC of PRC = 0.48876635560832954
min(+P, Se) = 0.4908256880733945
Epoch 00024: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch24.test0.3219057679231828.state
 - 1281s - loss: 0.2029 - val_loss: 0.3219
Epoch 25/100

==>predicting on train


confusion matrix:
[[27267   211]
 [ 1670  1901]]
accuracy = 0.9394183158874512
precision class 0 = 0.9422883987426758
precision class 1 = 0.9000946879386902
recall class 0 = 0.9923211336135864
recall class 1 = 0.532343864440918
AUC of ROC = 0.9423376994918407
AUC of PRC = 0.7930231973193029
min(+P, Se) = 0.7200447928331467

==>predicting on validation


confusion matrix:
[[2716   70]
 [ 317  119]]
accuracy = 0.8798882961273193
precision class 0 = 0.8954830169677734
precision class 1 = 0.6296296119689941
recall class 0 = 0.9748743772506714
recall class 1 = 0.27293577790260315
AUC of ROC = 0.8460437837944639
AUC of PRC = 0.5038875592715177
min(+P, Se) = 0.5102974828375286
Epoch 00025: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch25.test0.32174595520085314.state
 - 1261s - loss: 0.1988 - val_loss: 0.3217
Epoch 26/100

==>predicting on train


confusion matrix:
[[27221   257]
 [ 1607  1964]]
accuracy = 0.9399658441543579
precision class 0 = 0.9442555904388428
precision class 1 = 0.8842863440513611
recall class 0 = 0.9906470775604248
recall class 1 = 0.5499860048294067
AUC of ROC = 0.9429838415168376
AUC of PRC = 0.7918015253540263
min(+P, Se) = 0.7168860263231588

==>predicting on validation


confusion matrix:
[[2693   93]
 [ 299  137]]
accuracy = 0.8783364295959473
precision class 0 = 0.9000668525695801
precision class 1 = 0.595652163028717
recall class 0 = 0.9666188359260559
recall class 1 = 0.3142201900482178
AUC of ROC = 0.8470843733740788
AUC of PRC = 0.5010518900248035
min(+P, Se) = 0.4931506849315068
Epoch 00026: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch26.test0.3214290197834622.state
 - 1280s - loss: 0.2012 - val_loss: 0.3214
Epoch 27/100

==>predicting on train


confusion matrix:
[[27210   268]
 [ 1503  2068]]
accuracy = 0.9429610967636108
precision class 0 = 0.9476543664932251
precision class 1 = 0.8852739930152893
recall class 0 = 0.9902467131614685
recall class 1 = 0.5791094899177551
AUC of ROC = 0.9458528356250846
AUC of PRC = 0.802307319891808
min(+P, Se) = 0.7188462615513862

==>predicting on validation


confusion matrix:
[[2693   93]
 [ 300  136]]
accuracy = 0.8780260682106018
precision class 0 = 0.8997661471366882
precision class 1 = 0.5938864350318909
recall class 0 = 0.9666188359260559
recall class 1 = 0.31192660331726074
AUC of ROC = 0.8478285925038034
AUC of PRC = 0.4959391252063878
min(+P, Se) = 0.48878923766816146
Epoch 00027: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch27.test0.31241183855393373.state
 - 1282s - loss: 0.1981 - val_loss: 0.3124
Epoch 28/100

==>predicting on train


confusion matrix:
[[27311   167]
 [ 1736  1835]]
accuracy = 0.9387097954750061
precision class 0 = 0.9402347803115845
precision class 1 = 0.9165834188461304
recall class 0 = 0.9939224123954773
recall class 1 = 0.5138616561889648
AUC of ROC = 0.9445930563854867
AUC of PRC = 0.7983810680652708
min(+P, Se) = 0.7157658919070289

==>predicting on validation


confusion matrix:
[[2721   65]
 [ 326  110]]
accuracy = 0.8786467909812927
precision class 0 = 0.8930095434188843
precision class 1 = 0.6285714507102966
recall class 0 = 0.9766690731048584
recall class 1 = 0.25229358673095703
AUC of ROC = 0.8457828131483104
AUC of PRC = 0.5000009427910085
min(+P, Se) = 0.4988558352402746
Epoch 00028: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch28.test0.30589181009025623.state
 - 1289s - loss: 0.1980 - val_loss: 0.3059
Epoch 29/100

==>predicting on train


confusion matrix:
[[27220   258]
 [ 1470  2101]]
accuracy = 0.944346010684967
precision class 0 = 0.9487626552581787
precision class 1 = 0.8906316161155701
recall class 0 = 0.990610659122467
recall class 1 = 0.5883505940437317
AUC of ROC = 0.9463608360275961
AUC of PRC = 0.8061512635107823
min(+P, Se) = 0.7294875385046206

==>predicting on validation


confusion matrix:
[[2686  100]
 [ 289  147]]
accuracy = 0.8792675137519836
precision class 0 = 0.9028571248054504
precision class 1 = 0.5951417088508606
recall class 0 = 0.9641062617301941
recall class 1 = 0.3371559679508209
AUC of ROC = 0.8398529343967543
AUC of PRC = 0.4930595527557113
min(+P, Se) = 0.4954545454545455
Epoch 00029: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch29.test0.32498226363574917.state
 - 1273s - loss: 0.1950 - val_loss: 0.3250
Epoch 30/100

==>predicting on train


confusion matrix:
[[27198   280]
 [ 1481  2090]]
accuracy = 0.943283200263977
precision class 0 = 0.9483594298362732
precision class 1 = 0.8818565607070923
recall class 0 = 0.989810049533844
recall class 1 = 0.5852702260017395
AUC of ROC = 0.9469558590279978
AUC of PRC = 0.8043785174834835
min(+P, Se) = 0.725363941769317

==>predicting on validation


confusion matrix:
[[2695   91]
 [ 298  138]]
accuracy = 0.8792675137519836
precision class 0 = 0.9004343748092651
precision class 1 = 0.6026200652122498
recall class 0 = 0.9673366546630859
recall class 1 = 0.3165137469768524
AUC of ROC = 0.8491400317445682
AUC of PRC = 0.4952867055169029
min(+P, Se) = 0.510250569476082
Epoch 00030: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch30.test0.31389759280236146.state
 - 1290s - loss: 0.1965 - val_loss: 0.3139
Epoch 31/100

==>predicting on train


confusion matrix:
[[27287   191]
 [ 1620  1951]]
accuracy = 0.9416728615760803
precision class 0 = 0.9439582228660583
precision class 1 = 0.9108309745788574
recall class 0 = 0.9930489659309387
recall class 1 = 0.5463455319404602
AUC of ROC = 0.948495901173473
AUC of PRC = 0.8109753240973561
min(+P, Se) = 0.7320078409409129

==>predicting on validation


confusion matrix:
[[2708   78]
 [ 315  121]]
accuracy = 0.8780260682106018
precision class 0 = 0.8957988619804382
precision class 1 = 0.6080402135848999
recall class 0 = 0.9720028638839722
recall class 1 = 0.2775229215621948
AUC of ROC = 0.841958811093475
AUC of PRC = 0.49693762905961764
min(+P, Se) = 0.4988558352402746
Epoch 00031: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch31.test0.3176380071250235.state
 - 1276s - loss: 0.1952 - val_loss: 0.3176
Epoch 32/100

==>predicting on train


confusion matrix:
[[27257   221]
 [ 1521  2050]]
accuracy = 0.943895161151886
precision class 0 = 0.9471471309661865
precision class 1 = 0.9026860594749451
recall class 0 = 0.9919571876525879
recall class 1 = 0.5740689039230347
AUC of ROC = 0.9486956995142204
AUC of PRC = 0.8127700200532303
min(+P, Se) = 0.7252870344441333

==>predicting on validation


confusion matrix:
[[2707   79]
 [ 305  131]]
accuracy = 0.8808193802833557
precision class 0 = 0.8987383842468262
precision class 1 = 0.6238095164299011
recall class 0 = 0.9716439247131348
recall class 1 = 0.30045872926712036
AUC of ROC = 0.8401443653391467
AUC of PRC = 0.49865826219327863
min(+P, Se) = 0.49770642201834864
Epoch 00032: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch32.test0.31439510448462915.state
 - 1278s - loss: 0.1956 - val_loss: 0.3144
Epoch 33/100

==>predicting on train


confusion matrix:
[[27260   218]
 [ 1531  2040]]
accuracy = 0.9436696767807007
precision class 0 = 0.9468236565589905
precision class 1 = 0.9034543633460999
recall class 0 = 0.9920663833618164
recall class 1 = 0.5712685585021973
AUC of ROC = 0.946769864658306
AUC of PRC = 0.8068276121587179
min(+P, Se) = 0.7244469336320358

==>predicting on validation


confusion matrix:
[[2701   85]
 [ 302  134]]
accuracy = 0.8798882961273193
precision class 0 = 0.8994339108467102
precision class 1 = 0.611872136592865
recall class 0 = 0.9694902896881104
recall class 1 = 0.30733945965766907
AUC of ROC = 0.8457844596508096
AUC of PRC = 0.504958386373793
min(+P, Se) = 0.505720823798627
Epoch 00033: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch33.test0.32606678299749214.state
 - 1284s - loss: 0.1926 - val_loss: 0.3261
Epoch 34/100

==>predicting on train


confusion matrix:
[[27278   200]
 [ 1580  1991]]
accuracy = 0.9426712393760681
precision class 0 = 0.9452491402626038
precision class 1 = 0.9087174534797668
recall class 0 = 0.992721438407898
recall class 1 = 0.5575469136238098
AUC of ROC = 0.9474417343502867
AUC of PRC = 0.812055270818644
min(+P, Se) = 0.7273236282194849

==>predicting on validation


confusion matrix:
[[2706   80]
 [ 301  135]]
accuracy = 0.8817504644393921
precision class 0 = 0.8999002575874329
precision class 1 = 0.6279069781303406
recall class 0 = 0.9712849855422974
recall class 1 = 0.3096330165863037
AUC of ROC = 0.8487473408984635
AUC of PRC = 0.5087803420135193
min(+P, Se) = 0.5045871559633027
Epoch 00034: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch34.test0.32792864329673577.state
 - 1275s - loss: 0.1962 - val_loss: 0.3279
Epoch 35/100

==>predicting on train


confusion matrix:
[[27292   186]
 [ 1533  2038]]
accuracy = 0.9446359276771545
precision class 0 = 0.9468169808387756
precision class 1 = 0.9163669347763062
recall class 0 = 0.993230938911438
recall class 1 = 0.5707085132598877
AUC of ROC = 0.9497317820652489
AUC of PRC = 0.8161774275913328
min(+P, Se) = 0.740481522956327

==>predicting on validation


confusion matrix:
[[2704   82]
 [ 300  136]]
accuracy = 0.8814401030540466
precision class 0 = 0.9001331329345703
precision class 1 = 0.6238532066345215
recall class 0 = 0.9705671072006226
recall class 1 = 0.31192660331726074
AUC of ROC = 0.8407799153039113
AUC of PRC = 0.5070892949653492
min(+P, Se) = 0.5068807339449541
Epoch 00035: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch35.test0.3219816466477774.state
 - 1274s - loss: 0.1910 - val_loss: 0.3220
Epoch 36/100

==>predicting on train


confusion matrix:
[[27325   153]
 [ 1675  1896]]
accuracy = 0.9411253333091736
precision class 0 = 0.942241370677948
precision class 1 = 0.9253294467926025
recall class 0 = 0.9944319128990173
recall class 1 = 0.5309436917304993
AUC of ROC = 0.9500081621265546
AUC of PRC = 0.8186199604568681
min(+P, Se) = 0.7364640883977901

==>predicting on validation


confusion matrix:
[[2712   74]
 [ 315  121]]
accuracy = 0.8792675137519836
precision class 0 = 0.8959365487098694
precision class 1 = 0.620512843132019
recall class 0 = 0.9734386205673218
recall class 1 = 0.2775229215621948
AUC of ROC = 0.8426956209619527
AUC of PRC = 0.5073009870095748
min(+P, Se) = 0.49658314350797267
Epoch 00036: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch36.test0.3288246917634888.state
 - 1273s - loss: 0.1925 - val_loss: 0.3288
Epoch 37/100

==>predicting on train


confusion matrix:
[[27261   217]
 [ 1465  2106]]
accuracy = 0.9458275437355042
precision class 0 = 0.949000895023346
precision class 1 = 0.9065862894058228
recall class 0 = 0.9921028017997742
recall class 1 = 0.5897507667541504
AUC of ROC = 0.9504110811370005
AUC of PRC = 0.8208570690204088
min(+P, Se) = 0.7401288154578549

==>predicting on validation


confusion matrix:
[[2696   90]
 [ 300  136]]
accuracy = 0.8789571523666382
precision class 0 = 0.8998664617538452
precision class 1 = 0.6017699241638184
recall class 0 = 0.9676955938339233
recall class 1 = 0.31192660331726074
AUC of ROC = 0.8468588025316623
AUC of PRC = 0.5035975007782818
min(+P, Se) = 0.4911504424778761
Epoch 00037: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch37.test0.3177392107106787.state
 - 1284s - loss: 0.1935 - val_loss: 0.3177
Epoch 38/100

==>predicting on train


confusion matrix:
[[27298   180]
 [ 1485  2086]]
accuracy = 0.9463750720024109
precision class 0 = 0.9484070539474487
precision class 1 = 0.9205648899078369
recall class 0 = 0.993449330329895
recall class 1 = 0.5841500759124756
AUC of ROC = 0.9501413915939655
AUC of PRC = 0.8232892433958238
min(+P, Se) = 0.7499299915989919

==>predicting on validation


confusion matrix:
[[2707   79]
 [ 310  126]]
accuracy = 0.8792675137519836
precision class 0 = 0.8972489237785339
precision class 1 = 0.6146341562271118
recall class 0 = 0.9716439247131348
recall class 1 = 0.2889908254146576
AUC of ROC = 0.8448945250498889
AUC of PRC = 0.49971957560639146
min(+P, Se) = 0.5022935779816514
Epoch 00038: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch38.test0.3312797419088624.state
 - 1279s - loss: 0.1916 - val_loss: 0.3313
Epoch 39/100

==>predicting on train


confusion matrix:
[[27330   148]
 [ 1604  1967]]
accuracy = 0.9435730576515198
precision class 0 = 0.9445635080337524
precision class 1 = 0.9300236701965332
recall class 0 = 0.9946138858795166
recall class 1 = 0.5508260726928711
AUC of ROC = 0.9522924059570459
AUC of PRC = 0.8252559349629796
min(+P, Se) = 0.7447698744769874

==>predicting on validation


confusion matrix:
[[2720   66]
 [ 314  122]]
accuracy = 0.8820608258247375
precision class 0 = 0.8965062499046326
precision class 1 = 0.6489361524581909
recall class 0 = 0.976310133934021
recall class 1 = 0.27981650829315186
AUC of ROC = 0.8464043678418304
AUC of PRC = 0.5087109739959332
min(+P, Se) = 0.5022935779816514
Epoch 00039: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch39.test0.31643892022012776.state
 - 1279s - loss: 0.1887 - val_loss: 0.3164
Epoch 40/100

==>predicting on train


confusion matrix:
[[27249   229]
 [ 1419  2152]]
accuracy = 0.9469226002693176
precision class 0 = 0.9505022764205933
precision class 1 = 0.9038219451904297
recall class 0 = 0.9916660785675049
recall class 1 = 0.6026323437690735
AUC of ROC = 0.9502612705984139
AUC of PRC = 0.8229542687174228
min(+P, Se) = 0.7420890506860823

==>predicting on validation


confusion matrix:
[[2694   92]
 [ 301  135]]
accuracy = 0.8780260682106018
precision class 0 = 0.8994991779327393
precision class 1 = 0.5947136282920837
recall class 0 = 0.9669777750968933
recall class 1 = 0.3096330165863037
AUC of ROC = 0.8455992281196283
AUC of PRC = 0.4987285001979392
min(+P, Se) = 0.4863636363636364
Epoch 00040: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch40.test0.3316262784251547.state
 - 1275s - loss: 0.1886 - val_loss: 0.3316
Epoch 41/100

==>predicting on train


confusion matrix:
[[27295   183]
 [ 1453  2118]]
accuracy = 0.9473090767860413
precision class 0 = 0.9494573473930359
precision class 1 = 0.920469343662262
recall class 0 = 0.9933401346206665
recall class 1 = 0.5931111574172974
AUC of ROC = 0.9520350069928909
AUC of PRC = 0.8274383522212493
min(+P, Se) = 0.7499299915989919

==>predicting on validation


confusion matrix:
[[2703   83]
 [ 308  128]]
accuracy = 0.8786467909812927
precision class 0 = 0.8977084159851074
precision class 1 = 0.6066350936889648
recall class 0 = 0.9702081680297852
recall class 1 = 0.29357796907424927
AUC of ROC = 0.8455885258533824
AUC of PRC = 0.5056949719985764
min(+P, Se) = 0.4954337899543379
Epoch 00041: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch41.test0.3329837079779063.state
 - 1280s - loss: 0.1894 - val_loss: 0.3330
Epoch 42/100

==>predicting on train


confusion matrix:
[[27232   246]
 [ 1349  2222]]
accuracy = 0.9486295580863953
precision class 0 = 0.9528008103370667
precision class 1 = 0.9003241658210754
recall class 0 = 0.9910473823547363
recall class 1 = 0.6222346425056458
AUC of ROC = 0.950700480447493
AUC of PRC = 0.8249447817707519
min(+P, Se) = 0.7462895547465696

==>predicting on validation


confusion matrix:
[[2688   98]
 [ 293  143]]
accuracy = 0.8786467909812927
precision class 0 = 0.9017108082771301
precision class 1 = 0.5933610200881958
recall class 0 = 0.9648241400718689
recall class 1 = 0.3279816508293152
AUC of ROC = 0.847235028352773
AUC of PRC = 0.5058796826739633
min(+P, Se) = 0.5148741418764302
Epoch 00042: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch42.test0.32739763616276113.state
 - 1289s - loss: 0.1882 - val_loss: 0.3274
Epoch 43/100

==>predicting on train


confusion matrix:
[[27237   241]
 [ 1366  2205]]
accuracy = 0.9482430815696716
precision class 0 = 0.9522427916526794
precision class 1 = 0.9014717936515808
recall class 0 = 0.9912293553352356
recall class 1 = 0.6174740791320801
AUC of ROC = 0.953372448219516
AUC of PRC = 0.8291202303968804
min(+P, Se) = 0.7555306636796416

==>predicting on validation


confusion matrix:
[[2683  103]
 [ 291  145]]
accuracy = 0.8777157068252563
precision class 0 = 0.9021520018577576
precision class 1 = 0.5846773982048035
recall class 0 = 0.9630294442176819
recall class 1 = 0.33256879448890686
AUC of ROC = 0.8427046767256993
AUC of PRC = 0.49682059938145656
min(+P, Se) = 0.48853211009174313
Epoch 00043: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch43.test0.3259810496336699.state
 - 1275s - loss: 0.1863 - val_loss: 0.3260
Epoch 44/100

==>predicting on train


confusion matrix:
[[27273   205]
 [ 1396  2175]]
accuracy = 0.9484363198280334
precision class 0 = 0.9513062834739685
precision class 1 = 0.9138655662536621
recall class 0 = 0.9925394654273987
recall class 1 = 0.6090731024742126
AUC of ROC = 0.9538101446764193
AUC of PRC = 0.8336162168862591
min(+P, Se) = 0.756370764491739

==>predicting on validation


confusion matrix:
[[2697   89]
 [ 300  136]]
accuracy = 0.8792675137519836
precision class 0 = 0.8998998999595642
precision class 1 = 0.6044444441795349
recall class 0 = 0.9680545330047607
recall class 1 = 0.31192660331726074
AUC of ROC = 0.8387160244209251
AUC of PRC = 0.5023468391963948
min(+P, Se) = 0.49311926605504586
Epoch 00044: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch44.test0.31781649315749394.state
 - 1278s - loss: 0.1918 - val_loss: 0.3178
Epoch 45/100

==>predicting on train


confusion matrix:
[[27201   277]
 [ 1281  2290]]
accuracy = 0.9498212337493896
precision class 0 = 0.955024242401123
precision class 1 = 0.8920919299125671
recall class 0 = 0.9899191856384277
recall class 1 = 0.6412769556045532
AUC of ROC = 0.9532562176621978
AUC of PRC = 0.8318261307655148
min(+P, Se) = 0.75251677852349

==>predicting on validation


confusion matrix:
[[2665  121]
 [ 278  158]]
accuracy = 0.876163899898529
precision class 0 = 0.9055385589599609
precision class 1 = 0.5663082599639893
recall class 0 = 0.9565685391426086
recall class 1 = 0.3623853325843811
AUC of ROC = 0.840565046727741
AUC of PRC = 0.4940338003039488
min(+P, Se) = 0.4954128440366973
Epoch 00045: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch45.test0.3313364615579483.state
 - 1279s - loss: 0.1885 - val_loss: 0.3313
Epoch 46/100

==>predicting on train


confusion matrix:
[[27236   242]
 [ 1335  2236]]
accuracy = 0.9492093324661255
precision class 0 = 0.9532743096351624
precision class 1 = 0.9023405909538269
recall class 0 = 0.9911929368972778
recall class 1 = 0.6261551380157471
AUC of ROC = 0.9533258133198852
AUC of PRC = 0.8325560474320839
min(+P, Se) = 0.7535704284514142

==>predicting on validation


confusion matrix:
[[2687   99]
 [ 286  150]]
accuracy = 0.8805090188980103
precision class 0 = 0.9038008451461792
precision class 1 = 0.6024096608161926
recall class 0 = 0.9644652009010315
recall class 1 = 0.34403669834136963
AUC of ROC = 0.8420049131634582
AUC of PRC = 0.5016237721138865
min(+P, Se) = 0.49311926605504586
Epoch 00046: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch46.test0.32571578798856077.state
 - 1266s - loss: 0.1887 - val_loss: 0.3257
Epoch 47/100

==>predicting on train


confusion matrix:
[[27209   269]
 [ 1278  2293]]
accuracy = 0.9501755237579346
precision class 0 = 0.9551374316215515
precision class 1 = 0.8950039148330688
recall class 0 = 0.9902103543281555
recall class 1 = 0.6421170830726624
AUC of ROC = 0.9545934958297333
AUC of PRC = 0.8375302893570824
min(+P, Se) = 0.7617581187010078

==>predicting on validation


confusion matrix:
[[2673  113]
 [ 292  144]]
accuracy = 0.8743016719818115
precision class 0 = 0.9015176892280579
precision class 1 = 0.5603112578392029
recall class 0 = 0.9594400525093079
recall class 1 = 0.3302752375602722
AUC of ROC = 0.8385686624472297
AUC of PRC = 0.4856362553104576
min(+P, Se) = 0.4908256880733945
Epoch 00047: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch47.test0.3251967205464248.state
 - 1284s - loss: 0.1874 - val_loss: 0.3252
Epoch 48/100

==>predicting on train


confusion matrix:
[[27199   279]
 [ 1298  2273]]
accuracy = 0.9492093324661255
precision class 0 = 0.954451322555542
precision class 1 = 0.8906739950180054
recall class 0 = 0.989846408367157
recall class 1 = 0.6365163922309875
AUC of ROC = 0.9546072947051921
AUC of PRC = 0.8357695015569814
min(+P, Se) = 0.7598436191008098

==>predicting on validation


confusion matrix:
[[2682  104]
 [ 284  152]]
accuracy = 0.8795778751373291
precision class 0 = 0.9042481184005737
precision class 1 = 0.59375
recall class 0 = 0.9626705050468445
recall class 1 = 0.3486238420009613
AUC of ROC = 0.8357185666207841
AUC of PRC = 0.48686359277481195
min(+P, Se) = 0.4954128440366973
Epoch 00048: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch48.test0.3327369451046471.state
 - 1279s - loss: 0.1873 - val_loss: 0.3327
Epoch 49/100

==>predicting on train


confusion matrix:
[[27226   252]
 [ 1327  2244]]
accuracy = 0.9491448998451233
precision class 0 = 0.9535250067710876
precision class 1 = 0.8990384340286255
recall class 0 = 0.9908290505409241
recall class 1 = 0.6283953785896301
AUC of ROC = 0.954924704509923
AUC of PRC = 0.8377917742214788
min(+P, Se) = 0.7681321758611034

==>predicting on validation


confusion matrix:
[[2691   95]
 [ 297  139]]
accuracy = 0.8783364295959473
precision class 0 = 0.900602400302887
precision class 1 = 0.5940170884132385
recall class 0 = 0.9659009575843811
recall class 1 = 0.31880733370780945
AUC of ROC = 0.8411503783662744
AUC of PRC = 0.489531882214932
min(+P, Se) = 0.4988558352402746
Epoch 00049: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch49.test0.3258470599924016.state
 - 1273s - loss: 0.1862 - val_loss: 0.3258
Epoch 50/100

==>predicting on train


confusion matrix:
[[27260   218]
 [ 1438  2133]]
accuracy = 0.9466649293899536
precision class 0 = 0.949891984462738
precision class 1 = 0.9072734713554382
recall class 0 = 0.9920663833618164
recall class 1 = 0.5973116755485535
AUC of ROC = 0.9550742449818922
AUC of PRC = 0.8381077185497967
min(+P, Se) = 0.7605712685522262

==>predicting on validation


confusion matrix:
[[2692   94]
 [ 303  133]]
accuracy = 0.87678462266922
precision class 0 = 0.8988313674926758
precision class 1 = 0.5859031081199646
recall class 0 = 0.9662598967552185
recall class 1 = 0.30504587292671204
AUC of ROC = 0.8410589974775582
AUC of PRC = 0.4912233975794608
min(+P, Se) = 0.5022935779816514
Epoch 00050: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch50.test0.3313162747208633.state
 - 1298s - loss: 0.1857 - val_loss: 0.3313
Epoch 51/100

==>predicting on train


confusion matrix:
[[27239   239]
 [ 1317  2254]]
accuracy = 0.9498856663703918
precision class 0 = 0.9538800716400146
precision class 1 = 0.9041315913200378
recall class 0 = 0.9913021326065063
recall class 1 = 0.6311957240104675
AUC of ROC = 0.9541994992088476
AUC of PRC = 0.834637384806251
min(+P, Se) = 0.7681970884658454

==>predicting on validation


confusion matrix:
[[2684  102]
 [ 283  153]]
accuracy = 0.8805090188980103
precision class 0 = 0.9046174883842468
precision class 1 = 0.6000000238418579
recall class 0 = 0.9633883833885193
recall class 1 = 0.35091742873191833
AUC of ROC = 0.8440976178401838
AUC of PRC = 0.4971934502236541
min(+P, Se) = 0.5102974828375286
Epoch 00051: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch51.test0.33157480872755907.state
 - 1284s - loss: 0.1870 - val_loss: 0.3316
Epoch 52/100

==>predicting on train


confusion matrix:
[[27277   201]
 [ 1400  2171]]
accuracy = 0.9484363198280334
precision class 0 = 0.9511803984642029
precision class 1 = 0.9152613878250122
recall class 0 = 0.992685079574585
recall class 1 = 0.6079529523849487
AUC of ROC = 0.9545798090573985
AUC of PRC = 0.8376545120015145
min(+P, Se) = 0.7643614054657

==>predicting on validation


confusion matrix:
[[2706   80]
 [ 298  138]]
accuracy = 0.8826815485954285
precision class 0 = 0.9007989168167114
precision class 1 = 0.6330274939537048
recall class 0 = 0.9712849855422974
recall class 1 = 0.3165137469768524
AUC of ROC = 0.8462471268531387
AUC of PRC = 0.505072808294637
min(+P, Se) = 0.4954545454545455
Epoch 00052: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch52.test0.3200330555018137.state
 - 1289s - loss: 0.1846 - val_loss: 0.3200
Epoch 53/100

==>predicting on train


confusion matrix:
[[27260   218]
 [ 1309  2262]]
accuracy = 0.9508196711540222
precision class 0 = 0.9541811347007751
precision class 1 = 0.9120967984199524
recall class 0 = 0.9920663833618164
recall class 1 = 0.6334360241889954
AUC of ROC = 0.9552525551919858
AUC of PRC = 0.8424976521331071
min(+P, Se) = 0.765051806216746

==>predicting on validation


confusion matrix:
[[2693   93]
 [ 298  138]]
accuracy = 0.8786467909812927
precision class 0 = 0.900367796421051
precision class 1 = 0.5974025726318359
recall class 0 = 0.9666188359260559
recall class 1 = 0.3165137469768524
AUC of ROC = 0.8421316938559114
AUC of PRC = 0.49397708363407616
min(+P, Se) = 0.4863013698630137
Epoch 00053: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch53.test0.3255211209507184.state
 - 1282s - loss: 0.1863 - val_loss: 0.3255
Epoch 54/100

==>predicting on train


confusion matrix:
[[27269   209]
 [ 1374  2197]]
accuracy = 0.9490160942077637
precision class 0 = 0.9520301818847656
precision class 1 = 0.9131338596343994
recall class 0 = 0.9923939108848572
recall class 1 = 0.615233838558197
AUC of ROC = 0.9558046987474147
AUC of PRC = 0.8424338892149879
min(+P, Se) = 0.7673572228443449

==>predicting on validation


confusion matrix:
[[2710   76]
 [ 295  141]]
accuracy = 0.8848541378974915
precision class 0 = 0.90183025598526
precision class 1 = 0.6497696042060852
recall class 0 = 0.972720742225647
recall class 1 = 0.3233945071697235
AUC of ROC = 0.8465772506042665
AUC of PRC = 0.5037862958034809
min(+P, Se) = 0.4908675799086758
Epoch 00054: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch54.test0.3317454900895491.state
 - 1284s - loss: 0.1840 - val_loss: 0.3317
Epoch 55/100

==>predicting on train


confusion matrix:
[[27247   231]
 [ 1320  2251]]
accuracy = 0.950046718120575
precision class 0 = 0.9537928104400635
precision class 1 = 0.9069299101829529
recall class 0 = 0.9915933012962341
recall class 1 = 0.6303556561470032
AUC of ROC = 0.9573635028793892
AUC of PRC = 0.8473021838178358
min(+P, Se) = 0.773732847941753

==>predicting on validation


confusion matrix:
[[2700   86]
 [ 284  152]]
accuracy = 0.8851644992828369
precision class 0 = 0.904825747013092
precision class 1 = 0.6386554837226868
recall class 0 = 0.969131350517273
recall class 1 = 0.3486238420009613
AUC of ROC = 0.8392330262057338
AUC of PRC = 0.49888100201145386
min(+P, Se) = 0.48623853211009177
Epoch 00055: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch55.test0.3304747451191582.state
 - 1286s - loss: 0.1813 - val_loss: 0.3305
Epoch 56/100

==>predicting on train


confusion matrix:
[[27226   252]
 [ 1299  2272]]
accuracy = 0.950046718120575
precision class 0 = 0.9544609785079956
precision class 1 = 0.9001584649085999
recall class 0 = 0.9908290505409241
recall class 1 = 0.6362363696098328
AUC of ROC = 0.9562478933529961
AUC of PRC = 0.8439936726820606
min(+P, Se) = 0.7726127135256231

==>predicting on validation


confusion matrix:
[[2683  103]
 [ 283  153]]
accuracy = 0.8801986575126648
precision class 0 = 0.9045853018760681
precision class 1 = 0.59765625
recall class 0 = 0.9630294442176819
recall class 1 = 0.35091742873191833
AUC of ROC = 0.8424684036170366
AUC of PRC = 0.5008909783249376
min(+P, Se) = 0.4955357142857143
Epoch 00056: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch56.test0.33139114777085243.state
 - 1278s - loss: 0.1825 - val_loss: 0.3314
Epoch 57/100

==>predicting on train


confusion matrix:
[[27275   203]
 [ 1381  2190]]
accuracy = 0.9489838480949402
precision class 0 = 0.9518076777458191
precision class 1 = 0.9151692390441895
recall class 0 = 0.9926122426986694
recall class 1 = 0.6132736206054688
AUC of ROC = 0.9565728497362183
AUC of PRC = 0.8447757695782961
min(+P, Se) = 0.7724484104852203

==>predicting on validation


confusion matrix:
[[2700   86]
 [ 289  147]]
accuracy = 0.8836126923561096
precision class 0 = 0.9033121466636658
precision class 1 = 0.6309012770652771
recall class 0 = 0.969131350517273
recall class 1 = 0.3371559679508209
AUC of ROC = 0.8399607803104645
AUC of PRC = 0.491122043890816
min(+P, Se) = 0.4908256880733945
Epoch 00057: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch57.test0.3350807768445922.state
 - 1277s - loss: 0.1823 - val_loss: 0.3351
Epoch 58/100

==>predicting on train


confusion matrix:
[[27320   158]
 [ 1465  2106]]
accuracy = 0.9477277994155884
precision class 0 = 0.949105441570282
precision class 1 = 0.9302120208740234
recall class 0 = 0.9942499399185181
recall class 1 = 0.5897507667541504
AUC of ROC = 0.9563183705488869
AUC of PRC = 0.8442713392782003
min(+P, Se) = 0.774699132381752

==>predicting on validation


confusion matrix:
[[2709   77]
 [ 297  139]]
accuracy = 0.8839230537414551
precision class 0 = 0.901197612285614
precision class 1 = 0.6435185074806213
recall class 0 = 0.9723618030548096
recall class 1 = 0.31880733370780945
AUC of ROC = 0.8455942886121302
AUC of PRC = 0.5222950842963189
min(+P, Se) = 0.5011441647597255
Epoch 00058: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch58.test0.32171389482069057.state
 - 1280s - loss: 0.1865 - val_loss: 0.3217
Epoch 59/100

==>predicting on train


confusion matrix:
[[27282   196]
 [ 1318  2253]]
accuracy = 0.9512383937835693
precision class 0 = 0.953916072845459
precision class 1 = 0.9199673533439636
recall class 0 = 0.9928669929504395
recall class 1 = 0.6309157013893127
AUC of ROC = 0.9569655724579664
AUC of PRC = 0.8475466476946517
min(+P, Se) = 0.7743919485602461

==>predicting on validation


confusion matrix:
[[2693   93]
 [ 292  144]]
accuracy = 0.8805090188980103
precision class 0 = 0.9021775722503662
precision class 1 = 0.607594907283783
recall class 0 = 0.9666188359260559
recall class 1 = 0.3302752375602722
AUC of ROC = 0.8391786916232539
AUC of PRC = 0.5086849386670005
min(+P, Se) = 0.5056947608200456
Epoch 00059: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch59.test0.35016905417068084.state
 - 1288s - loss: 0.1832 - val_loss: 0.3502
Epoch 60/100

==>predicting on train


confusion matrix:
[[27260   218]
 [ 1319  2252]]
accuracy = 0.9504976272583008
precision class 0 = 0.9538472294807434
precision class 1 = 0.9117408990859985
recall class 0 = 0.9920663833618164
recall class 1 = 0.630635678768158
AUC of ROC = 0.9582456066938527
AUC of PRC = 0.8497175432435492
min(+P, Se) = 0.776595744680851

==>predicting on validation


confusion matrix:
[[2690   96]
 [ 290  146]]
accuracy = 0.8801986575126648
precision class 0 = 0.9026845693588257
precision class 1 = 0.6033057570457458
recall class 0 = 0.9655420184135437
recall class 1 = 0.3348623812198639
AUC of ROC = 0.8381899668723698
AUC of PRC = 0.49399863879659733
min(+P, Se) = 0.5
Epoch 00060: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch60.test0.32322707576625176.state
 - 1281s - loss: 0.1823 - val_loss: 0.3232
Epoch 61/100

==>predicting on train


confusion matrix:
[[27250   228]
 [ 1353  2218]]
accuracy = 0.9490804672241211
precision class 0 = 0.9526972770690918
precision class 1 = 0.9067865610122681
recall class 0 = 0.9917024374008179
recall class 1 = 0.6211145520210266
AUC of ROC = 0.9569830197805553
AUC of PRC = 0.8466447157407987
min(+P, Se) = 0.778057654631962

==>predicting on validation


confusion matrix:
[[2693   93]
 [ 290  146]]
accuracy = 0.8811297416687012
precision class 0 = 0.9027824401855469
precision class 1 = 0.6108786463737488
recall class 0 = 0.9666188359260559
recall class 1 = 0.3348623812198639
AUC of ROC = 0.8392659562557216
AUC of PRC = 0.4935276087558888
min(+P, Se) = 0.481651376146789
Epoch 00061: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch61.test0.33845619848408476.state
 - 1283s - loss: 0.1820 - val_loss: 0.3385
Epoch 62/100

==>predicting on train


confusion matrix:
[[27255   223]
 [ 1329  2242]]
accuracy = 0.9500144720077515
precision class 0 = 0.9535054564476013
precision class 1 = 0.9095334410667419
recall class 0 = 0.9918844103813171
recall class 1 = 0.6278353333473206
AUC of ROC = 0.956800011430442
AUC of PRC = 0.8489486598337018
min(+P, Se) = 0.7768132175861103

==>predicting on validation


confusion matrix:
[[2694   92]
 [ 292  144]]
accuracy = 0.8808193802833557
precision class 0 = 0.9022102952003479
precision class 1 = 0.6101694703102112
recall class 0 = 0.9669777750968933
recall class 1 = 0.3302752375602722
AUC of ROC = 0.8393301698531977
AUC of PRC = 0.502363129182437
min(+P, Se) = 0.497737556561086
Epoch 00062: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch62.test0.33009255531086157.state
 - 1285s - loss: 0.1843 - val_loss: 0.3301
Epoch 63/100

==>predicting on train


confusion matrix:
[[27242   236]
 [ 1281  2290]]
accuracy = 0.9511417150497437
precision class 0 = 0.9550888538360596
precision class 1 = 0.906571626663208
recall class 0 = 0.9914113283157349
recall class 1 = 0.6412769556045532
AUC of ROC = 0.9573149520354554
AUC of PRC = 0.8465301777411003
min(+P, Se) = 0.7689722766732008

==>predicting on validation


confusion matrix:
[[2695   91]
 [ 293  143]]
accuracy = 0.8808193802833557
precision class 0 = 0.9019411206245422
precision class 1 = 0.6111111044883728
recall class 0 = 0.9673366546630859
recall class 1 = 0.3279816508293152
AUC of ROC = 0.8396314798105864
AUC of PRC = 0.49541162230615365
min(+P, Se) = 0.4954128440366973
Epoch 00063: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch63.test0.33517473644486206.state
 - 1278s - loss: 0.1798 - val_loss: 0.3352
Epoch 64/100

==>predicting on train


confusion matrix:
[[27296   182]
 [ 1375  2196]]
accuracy = 0.9498534798622131
precision class 0 = 0.9520421624183655
precision class 1 = 0.9234650731086731
recall class 0 = 0.9933764934539795
recall class 1 = 0.6149538159370422
AUC of ROC = 0.9583855062971485
AUC of PRC = 0.8503742494766935
min(+P, Se) = 0.7768132175861103

==>predicting on validation


confusion matrix:
[[2718   68]
 [ 305  131]]
accuracy = 0.8842334151268005
precision class 0 = 0.8991068601608276
precision class 1 = 0.6582914590835571
recall class 0 = 0.9755922555923462
recall class 1 = 0.30045872926712036
AUC of ROC = 0.8379018289349762
AUC of PRC = 0.5054365561026317
min(+P, Se) = 0.49321266968325794
Epoch 00064: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch64.test0.32934363299436187.state
 - 1285s - loss: 0.1828 - val_loss: 0.3293
Epoch 65/100

==>predicting on train


confusion matrix:
[[27270   208]
 [ 1297  2274]]
accuracy = 0.9515282511711121
precision class 0 = 0.9545979499816895
precision class 1 = 0.9161966443061829
recall class 0 = 0.9924303293228149
recall class 1 = 0.6367964148521423
AUC of ROC = 0.9573811845994196
AUC of PRC = 0.8511519577681937
min(+P, Se) = 0.7787734528143377

==>predicting on validation


confusion matrix:
[[2700   86]
 [ 294  142]]
accuracy = 0.8820608258247375
precision class 0 = 0.9018036127090454
precision class 1 = 0.6228070259094238
recall class 0 = 0.969131350517273
recall class 1 = 0.32568806409835815
AUC of ROC = 0.8422963441058503
AUC of PRC = 0.5085311327963423
min(+P, Se) = 0.5102974828375286
Epoch 00065: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch65.test0.3261932273268755.state
 - 1277s - loss: 0.1809 - val_loss: 0.3262
Epoch 66/100

==>predicting on train


confusion matrix:
[[27208   270]
 [ 1225  2346]]
accuracy = 0.9518502950668335
precision class 0 = 0.9569162726402283
precision class 1 = 0.896789014339447
recall class 0 = 0.9901739358901978
recall class 1 = 0.656958818435669
AUC of ROC = 0.9581635268246165
AUC of PRC = 0.8533107936675621
min(+P, Se) = 0.7788353863381859

==>predicting on validation


confusion matrix:
[[2679  107]
 [ 281  155]]
accuracy = 0.8795778751373291
precision class 0 = 0.9050675630569458
precision class 1 = 0.5916030406951904
recall class 0 = 0.9615936875343323
recall class 1 = 0.35550457239151
AUC of ROC = 0.8414113490124279
AUC of PRC = 0.5068466956298245
min(+P, Se) = 0.49547511312217196
Epoch 00066: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch66.test0.32313156287485884.state
 - 1280s - loss: 0.1817 - val_loss: 0.3231
Epoch 67/100

==>predicting on train


confusion matrix:
[[27269   209]
 [ 1279  2292]]
accuracy = 0.9520757794380188
precision class 0 = 0.9551982879638672
precision class 1 = 0.9164334535598755
recall class 0 = 0.9923939108848572
recall class 1 = 0.6418370008468628
AUC of ROC = 0.9588324003058255
AUC of PRC = 0.8542445586217846
min(+P, Se) = 0.7773732847941753

==>predicting on validation


confusion matrix:
[[2700   86]
 [ 292  144]]
accuracy = 0.8826815485954285
precision class 0 = 0.9024063944816589
precision class 1 = 0.626086950302124
recall class 0 = 0.969131350517273
recall class 1 = 0.3302752375602722
AUC of ROC = 0.8379372287387132
AUC of PRC = 0.5017338205271802
min(+P, Se) = 0.49770642201834864
Epoch 00067: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch67.test0.3333519542026712.state
 - 1287s - loss: 0.1807 - val_loss: 0.3334
Epoch 68/100

==>predicting on train


confusion matrix:
[[27252   226]
 [ 1271  2300]]
accuracy = 0.9517858624458313
precision class 0 = 0.9554394483566284
precision class 1 = 0.9105305075645447
recall class 0 = 0.9917752146720886
recall class 1 = 0.6440773010253906
AUC of ROC = 0.958496233610192
AUC of PRC = 0.8537387507326458
min(+P, Se) = 0.778057654631962

==>predicting on validation


confusion matrix:
[[2691   95]
 [ 287  149]]
accuracy = 0.8814401030540466
precision class 0 = 0.9036266207695007
precision class 1 = 0.6106557250022888
recall class 0 = 0.9659009575843811
recall class 1 = 0.3417431116104126
AUC of ROC = 0.8426445793844715
AUC of PRC = 0.5009005017776695
min(+P, Se) = 0.49311926605504586
Epoch 00068: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch68.test0.3258999874370206.state
 - 1279s - loss: 0.1814 - val_loss: 0.3259
Epoch 69/100

==>predicting on train


confusion matrix:
[[27258   220]
 [ 1285  2286]]
accuracy = 0.9515282511711121
precision class 0 = 0.954980194568634
precision class 1 = 0.9122107028961182
recall class 0 = 0.9919936060905457
recall class 1 = 0.6401568055152893
AUC of ROC = 0.9582277415323466
AUC of PRC = 0.8513870451313643
min(+P, Se) = 0.7745729487538504

==>predicting on validation


confusion matrix:
[[2698   88]
 [ 291  145]]
accuracy = 0.882371187210083
precision class 0 = 0.9026430249214172
precision class 1 = 0.6223176121711731
recall class 0 = 0.9684134721755981
recall class 1 = 0.33256879448890686
AUC of ROC = 0.8456980182695917
AUC of PRC = 0.5109333521865205
min(+P, Se) = 0.5045871559633027
Epoch 00069: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch69.test0.33553797545976366.state
 - 1284s - loss: 0.1804 - val_loss: 0.3355
Epoch 70/100

==>predicting on train


confusion matrix:
[[27230   248]
 [ 1205  2366]]
accuracy = 0.953203022480011
precision class 0 = 0.9576226472854614
precision class 1 = 0.9051262140274048
recall class 0 = 0.9909746050834656
recall class 1 = 0.6625595092773438
AUC of ROC = 0.9585007635955255
AUC of PRC = 0.8533098826274533
min(+P, Se) = 0.7765331839820778

==>predicting on validation


confusion matrix:
[[2681  105]
 [ 284  152]]
accuracy = 0.8792675137519836
precision class 0 = 0.9042158722877502
precision class 1 = 0.5914396643638611
recall class 0 = 0.9623115658760071
recall class 1 = 0.3486238420009613
AUC of ROC = 0.8416467988698407
AUC of PRC = 0.4989325568540899
min(+P, Se) = 0.48853211009174313
Epoch 00070: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch70.test0.3241648727011636.state
 - 1280s - loss: 0.1791 - val_loss: 0.3242
Epoch 71/100

==>predicting on train


confusion matrix:
[[27259   219]
 [ 1239  2332]]
accuracy = 0.9530419707298279
precision class 0 = 0.9565232396125793
precision class 1 = 0.9141513109207153
recall class 0 = 0.9920299649238586
recall class 1 = 0.6530383825302124
AUC of ROC = 0.9578633197538403
AUC of PRC = 0.8524172845312843
min(+P, Se) = 0.773732847941753

==>predicting on validation


confusion matrix:
[[2679  107]
 [ 295  141]]
accuracy = 0.8752327561378479
precision class 0 = 0.9008070230484009
precision class 1 = 0.5685483813285828
recall class 0 = 0.9615936875343323
recall class 1 = 0.3233945071697235
AUC of ROC = 0.8354477169596344
AUC of PRC = 0.49787244542329995
min(+P, Se) = 0.48409090909090907
Epoch 00071: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch71.test0.3291140872381586.state
 - 1283s - loss: 0.1819 - val_loss: 0.3291
Epoch 72/100

==>predicting on train


confusion matrix:
[[27225   253]
 [ 1178  2393]]
accuracy = 0.953911542892456
precision class 0 = 0.9585254788398743
precision class 1 = 0.9043839573860168
recall class 0 = 0.9907926321029663
recall class 1 = 0.6701204180717468
AUC of ROC = 0.9591650051794702
AUC of PRC = 0.8531950779918167
min(+P, Se) = 0.7773732847941753

==>predicting on validation


confusion matrix:
[[2685  101]
 [ 280  156]]
accuracy = 0.8817504644393921
precision class 0 = 0.9055649042129517
precision class 1 = 0.6070038676261902
recall class 0 = 0.9637473225593567
recall class 1 = 0.35779815912246704
AUC of ROC = 0.841343019158703
AUC of PRC = 0.5052194527549082
min(+P, Se) = 0.4988662131519274
Epoch 00072: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch72.test0.32725870254097483.state
 - 1277s - loss: 0.1798 - val_loss: 0.3273
Epoch 73/100

==>predicting on train


confusion matrix:
[[27273   205]
 [ 1254  2317]]
accuracy = 0.9530097842216492
precision class 0 = 0.9560416340827942
precision class 1 = 0.9187152981758118
recall class 0 = 0.9925394654273987
recall class 1 = 0.6488378643989563
AUC of ROC = 0.9594960915653425
AUC of PRC = 0.8561678575762761
min(+P, Se) = 0.7798935872304676

==>predicting on validation


confusion matrix:
[[2694   92]
 [ 293  143]]
accuracy = 0.8805090188980103
precision class 0 = 0.901908278465271
precision class 1 = 0.6085106134414673
recall class 0 = 0.9669777750968933
recall class 1 = 0.3279816508293152
AUC of ROC = 0.8431039535818016
AUC of PRC = 0.5000820354643373
min(+P, Se) = 0.5091743119266054
Epoch 00073: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch73.test0.3282009318013098.state
 - 1278s - loss: 0.1789 - val_loss: 0.3282
Epoch 74/100

==>predicting on train


confusion matrix:
[[27213   265]
 [ 1135  2436]]
accuracy = 0.9549099802970886
precision class 0 = 0.9599618911743164
precision class 1 = 0.9018881916999817
recall class 0 = 0.990355908870697
recall class 1 = 0.6821618676185608
AUC of ROC = 0.9603075041688605
AUC of PRC = 0.8583436751884493
min(+P, Se) = 0.7768132175861103

==>predicting on validation


confusion matrix:
[[2675  111]
 [ 282  154]]
accuracy = 0.8780260682106018
precision class 0 = 0.9046330451965332
precision class 1 = 0.5811320543289185
recall class 0 = 0.9601579308509827
recall class 1 = 0.35321101546287537
AUC of ROC = 0.8391523475832636
AUC of PRC = 0.4969951769217855
min(+P, Se) = 0.5022522522522522
Epoch 00074: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch74.test0.33411844219251646.state
 - 1267s - loss: 0.1789 - val_loss: 0.3341
Epoch 75/100

==>predicting on train


confusion matrix:
[[27160   318]
 [ 1059  2512]]
accuracy = 0.9556507468223572
precision class 0 = 0.9624720811843872
precision class 1 = 0.8876324892044067
recall class 0 = 0.9884271025657654
recall class 1 = 0.7034444212913513
AUC of ROC = 0.9603207578154884
AUC of PRC = 0.8568031816629297
min(+P, Se) = 0.7796135536264351

==>predicting on validation


confusion matrix:
[[2671  115]
 [ 273  163]]
accuracy = 0.8795778751373291
precision class 0 = 0.9072690010070801
precision class 1 = 0.5863309502601624
recall class 0 = 0.9587221741676331
recall class 1 = 0.3738532066345215
AUC of ROC = 0.8415924642873609
AUC of PRC = 0.49548561237674904
min(+P, Se) = 0.5067873303167421
Epoch 00075: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch75.test0.3361533678337367.state
 - 1281s - loss: 0.1799 - val_loss: 0.3362
Epoch 76/100

==>predicting on train


confusion matrix:
[[27210   268]
 [ 1130  2441]]
accuracy = 0.9549744129180908
precision class 0 = 0.960127055644989
precision class 1 = 0.9010705351829529
recall class 0 = 0.9902467131614685
recall class 1 = 0.6835620403289795
AUC of ROC = 0.9589029641268576
AUC of PRC = 0.8568319995971708
min(+P, Se) = 0.780917739227756

==>predicting on validation


confusion matrix:
[[2668  118]
 [ 285  151]]
accuracy = 0.8749223947525024
precision class 0 = 0.9034879803657532
precision class 1 = 0.5613383054733276
recall class 0 = 0.9576453566551208
recall class 1 = 0.34633028507232666
AUC of ROC = 0.8463228659681106
AUC of PRC = 0.5014386373664781
min(+P, Se) = 0.4954337899543379
Epoch 00076: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch76.test0.3268016813511363.state
 - 1288s - loss: 0.1790 - val_loss: 0.3268
Epoch 77/100

==>predicting on train


confusion matrix:
[[27185   293]
 [ 1137  2434]]
accuracy = 0.9539437890052795
precision class 0 = 0.9598545432090759
precision class 1 = 0.8925558924674988
recall class 0 = 0.9893369078636169
recall class 1 = 0.6816017627716064
AUC of ROC = 0.959222432552595
AUC of PRC = 0.8540711567087332
min(+P, Se) = 0.7774356103023516

==>predicting on validation


confusion matrix:
[[2663  123]
 [ 287  149]]
accuracy = 0.8727498650550842
precision class 0 = 0.9027118682861328
precision class 1 = 0.5477941036224365
recall class 0 = 0.9558506608009338
recall class 1 = 0.3417431116104126
AUC of ROC = 0.8476614725001153
AUC of PRC = 0.5029165309414341
min(+P, Se) = 0.504524886877828
Epoch 00077: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch77.test0.33317910779491855.state
 - 1284s - loss: 0.1780 - val_loss: 0.3332
Epoch 78/100

==>predicting on train


confusion matrix:
[[27324   154]
 [ 1342  2229]]
accuracy = 0.9518181085586548
precision class 0 = 0.953184962272644
precision class 1 = 0.9353755712509155
recall class 0 = 0.9943954944610596
recall class 1 = 0.6241949200630188
AUC of ROC = 0.9589197439262986
AUC of PRC = 0.8549801819728169
min(+P, Se) = 0.7790534864183702

==>predicting on validation


confusion matrix:
[[2711   75]
 [ 311  125]]
accuracy = 0.8801986575126648
precision class 0 = 0.8970880508422852
precision class 1 = 0.625
recall class 0 = 0.9730796813964844
recall class 1 = 0.28669723868370056
AUC of ROC = 0.8427779460869222
AUC of PRC = 0.5003194474683816
min(+P, Se) = 0.5045871559633027
Epoch 00078: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch78.test0.34302189926403526.state
 - 1268s - loss: 0.1790 - val_loss: 0.3430
Epoch 79/100

==>predicting on train


confusion matrix:
[[27228   250]
 [ 1138  2433]]
accuracy = 0.9552964568138123
precision class 0 = 0.9598815441131592
precision class 1 = 0.9068207144737244
recall class 0 = 0.9909018278121948
recall class 1 = 0.6813217401504517
AUC of ROC = 0.9594418285576757
AUC of PRC = 0.8551587506333143
min(+P, Se) = 0.7815737888546626

==>predicting on validation


confusion matrix:
[[2677  109]
 [ 289  147]]
accuracy = 0.8764742612838745
precision class 0 = 0.9025623798370361
precision class 1 = 0.57421875
recall class 0 = 0.9608758091926575
recall class 1 = 0.3371559679508209
AUC of ROC = 0.8430751397880621
AUC of PRC = 0.4964826135062289
min(+P, Se) = 0.5034324942791762
Epoch 00079: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch79.test0.34262039506846076.state
 - 1285s - loss: 0.1797 - val_loss: 0.3426
Epoch 80/100

==>predicting on train


confusion matrix:
[[27266   212]
 [ 1219  2352]]
accuracy = 0.953911542892456
precision class 0 = 0.9572055339813232
precision class 1 = 0.9173166751861572
recall class 0 = 0.9922847151756287
recall class 1 = 0.6586390137672424
AUC of ROC = 0.9599631386583771
AUC of PRC = 0.8581739770962709
min(+P, Se) = 0.7793335200224026

==>predicting on validation


confusion matrix:
[[2703   83]
 [ 297  139]]
accuracy = 0.8820608258247375
precision class 0 = 0.9010000228881836
precision class 1 = 0.6261261105537415
recall class 0 = 0.9702081680297852
recall class 1 = 0.31880733370780945
AUC of ROC = 0.841776049316043
AUC of PRC = 0.49791049555299277
min(+P, Se) = 0.4943820224719101
Epoch 00080: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch80.test0.335806065741383.state
 - 1270s - loss: 0.1799 - val_loss: 0.3358
Epoch 81/100

==>predicting on train


confusion matrix:
[[27274   204]
 [ 1264  2307]]
accuracy = 0.9527198672294617
precision class 0 = 0.9557082056999207
precision class 1 = 0.918757438659668
recall class 0 = 0.9925758838653564
recall class 1 = 0.6460375189781189
AUC of ROC = 0.9600853106812732
AUC of PRC = 0.8576708858604296
min(+P, Se) = 0.7846541584990199

==>predicting on validation


confusion matrix:
[[2699   87]
 [ 299  137]]
accuracy = 0.8801986575126648
precision class 0 = 0.9002668261528015
precision class 1 = 0.6116071343421936
recall class 0 = 0.9687724113464355
recall class 1 = 0.3142201900482178
AUC of ROC = 0.8432183855055091
AUC of PRC = 0.5011820366435136
min(+P, Se) = 0.4955357142857143
Epoch 00081: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch81.test0.3276154169665961.state
 - 1281s - loss: 0.1802 - val_loss: 0.3276
Epoch 82/100

==>predicting on train


confusion matrix:
[[27290   188]
 [ 1279  2292]]
accuracy = 0.9527521133422852
precision class 0 = 0.9552311897277832
precision class 1 = 0.9241935610771179
recall class 0 = 0.9931581616401672
recall class 1 = 0.6418370008468628
AUC of ROC = 0.9597628868095368
AUC of PRC = 0.8570308712072637
min(+P, Se) = 0.7807950727883539

==>predicting on validation


confusion matrix:
[[2702   84]
 [ 296  140]]
accuracy = 0.8820608258247375
precision class 0 = 0.9012675285339355
precision class 1 = 0.625
recall class 0 = 0.9698492288589478
recall class 1 = 0.3211009204387665
AUC of ROC = 0.8437897218727978
AUC of PRC = 0.5019409127659189
min(+P, Se) = 0.5091743119266054
Epoch 00082: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch82.test0.3310665580739448.state
 - 1291s - loss: 0.1782 - val_loss: 0.3311
Epoch 83/100

==>predicting on train


confusion matrix:
[[27272   206]
 [ 1184  2387]]
accuracy = 0.9552320241928101
precision class 0 = 0.9583919048309326
precision class 1 = 0.9205553531646729
recall class 0 = 0.9925031065940857
recall class 1 = 0.6684402227401733
AUC of ROC = 0.9596343554821454
AUC of PRC = 0.8575497639731099
min(+P, Se) = 0.78129375525063

==>predicting on validation


confusion matrix:
[[2694   92]
 [ 297  139]]
accuracy = 0.8792675137519836
precision class 0 = 0.9007021188735962
precision class 1 = 0.6017315983772278
recall class 0 = 0.9669777750968933
recall class 1 = 0.31880733370780945
AUC of ROC = 0.8398257671055145
AUC of PRC = 0.489072215979786
min(+P, Se) = 0.4793577981651376
Epoch 00083: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch83.test0.33242511637115757.state
 - 1269s - loss: 0.1756 - val_loss: 0.3324
Epoch 84/100

==>predicting on train


confusion matrix:
[[27363   115]
 [ 1368  2203]]
accuracy = 0.9522367715835571
precision class 0 = 0.9523859024047852
precision class 1 = 0.9503882527351379
recall class 0 = 0.995814859867096
recall class 1 = 0.6169140338897705
AUC of ROC = 0.9612692368706197
AUC of PRC = 0.8633596886569028
min(+P, Se) = 0.7801736208345001

==>predicting on validation


confusion matrix:
[[2719   67]
 [ 312  124]]
accuracy = 0.882371187210083
precision class 0 = 0.897063672542572
precision class 1 = 0.6492146849632263
recall class 0 = 0.9759511947631836
recall class 1 = 0.2844036817550659
AUC of ROC = 0.8359795372669376
AUC of PRC = 0.49636718981747535
min(+P, Se) = 0.4818181818181818
Epoch 00084: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch84.test0.3349263891323356.state
 - 1278s - loss: 0.1743 - val_loss: 0.3349
Epoch 85/100

==>predicting on train


confusion matrix:
[[27267   211]
 [ 1172  2399]]
accuracy = 0.9554575085639954
precision class 0 = 0.9587889909744263
precision class 1 = 0.919157087802887
recall class 0 = 0.9923211336135864
recall class 1 = 0.6718006134033203
AUC of ROC = 0.9590536103432783
AUC of PRC = 0.8595282736313246
min(+P, Se) = 0.7826939232707925

==>predicting on validation


confusion matrix:
[[2682  104]
 [ 299  137]]
accuracy = 0.8749223947525024
precision class 0 = 0.8996980786323547
precision class 1 = 0.5684647560119629
recall class 0 = 0.9626705050468445
recall class 1 = 0.3142201900482178
AUC of ROC = 0.8340267853026602
AUC of PRC = 0.4846712398835445
min(+P, Se) = 0.4919908466819222
Epoch 00085: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch85.test0.3352371516720173.state
 - 1270s - loss: 0.1769 - val_loss: 0.3352
Epoch 86/100

==>predicting on train


confusion matrix:
[[27251   227]
 [ 1147  2424]]
accuracy = 0.9557473659515381
precision class 0 = 0.9596098065376282
precision class 1 = 0.914371907711029
recall class 0 = 0.9917388558387756
recall class 1 = 0.6788014769554138
AUC of ROC = 0.9604523108316343
AUC of PRC = 0.8597973488980089
min(+P, Se) = 0.7791771620486986

==>predicting on validation


confusion matrix:
[[2685  101]
 [ 282  154]]
accuracy = 0.8811297416687012
precision class 0 = 0.9049544930458069
precision class 1 = 0.6039215922355652
recall class 0 = 0.9637473225593567
recall class 1 = 0.35321101546287537
AUC of ROC = 0.8403402991365742
AUC of PRC = 0.4966435334221895
min(+P, Se) = 0.4908256880733945
Epoch 00086: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch86.test0.3311955267291754.state
 - 1277s - loss: 0.1750 - val_loss: 0.3312
Epoch 87/100

==>predicting on train


confusion matrix:
[[27314   164]
 [ 1264  2307]]
accuracy = 0.954008162021637
precision class 0 = 0.9557701945304871
precision class 1 = 0.933630108833313
recall class 0 = 0.9940316081047058
recall class 1 = 0.6460375189781189
AUC of ROC = 0.959917324149791
AUC of PRC = 0.8582025107265924
min(+P, Se) = 0.7852743561030235

==>predicting on validation


confusion matrix:
[[2699   87]
 [ 305  131]]
accuracy = 0.8783364295959473
precision class 0 = 0.8984687328338623
precision class 1 = 0.6009174585342407
recall class 0 = 0.9687724113464355
recall class 1 = 0.30045872926712036
AUC of ROC = 0.8439436698564907
AUC of PRC = 0.4942103749040355
min(+P, Se) = 0.49658314350797267
Epoch 00087: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch87.test0.3342305125309065.state
 - 1279s - loss: 0.1749 - val_loss: 0.3342
Epoch 88/100

==>predicting on train


confusion matrix:
[[27172   306]
 [ 1059  2512]]
accuracy = 0.9560372233390808
precision class 0 = 0.962488055229187
precision class 1 = 0.8914123773574829
recall class 0 = 0.9888638257980347
recall class 1 = 0.7034444212913513
AUC of ROC = 0.9602168789842087
AUC of PRC = 0.8596357939817042
min(+P, Se) = 0.7813549832026876

==>predicting on validation


confusion matrix:
[[2655  131]
 [ 269  167]]
accuracy = 0.8758534789085388
precision class 0 = 0.9080027341842651
precision class 1 = 0.5604026913642883
recall class 0 = 0.9529792070388794
recall class 1 = 0.3830275237560272
AUC of ROC = 0.8402390392328617
AUC of PRC = 0.486913988621972
min(+P, Se) = 0.48623853211009177
Epoch 00088: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch88.test0.32940003527230094.state
 - 1273s - loss: 0.1769 - val_loss: 0.3294
Epoch 89/100

==>predicting on train


confusion matrix:
[[27335   143]
 [ 1365  2206]]
accuracy = 0.9514316320419312
precision class 0 = 0.95243901014328
precision class 1 = 0.9391230344772339
recall class 0 = 0.9947958588600159
recall class 1 = 0.6177541017532349
AUC of ROC = 0.9595050139549026
AUC of PRC = 0.8583735099590661
min(+P, Se) = 0.7852142257070849

==>predicting on validation


confusion matrix:
[[2703   83]
 [ 304  132]]
accuracy = 0.8798882961273193
precision class 0 = 0.8989025354385376
precision class 1 = 0.6139534711837769
recall class 0 = 0.9702081680297852
recall class 1 = 0.302752286195755
AUC of ROC = 0.8409626770813439
AUC of PRC = 0.4877883447630535
min(+P, Se) = 0.4793577981651376
Epoch 00089: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch89.test0.344102095183584.state
 - 1289s - loss: 0.1758 - val_loss: 0.3441
Epoch 90/100

==>predicting on train


confusion matrix:
[[27238   240]
 [ 1153  2418]]
accuracy = 0.9551354050636292
precision class 0 = 0.9593885540962219
precision class 1 = 0.9097065329551697
recall class 0 = 0.9912657141685486
recall class 1 = 0.6771212816238403
AUC of ROC = 0.9606624022774137
AUC of PRC = 0.8622104813830751
min(+P, Se) = 0.7877345281433772

==>predicting on validation


confusion matrix:
[[2671  115]
 [ 283  153]]
accuracy = 0.8764742612838745
precision class 0 = 0.9041976928710938
precision class 1 = 0.5708954930305481
recall class 0 = 0.9587221741676331
recall class 1 = 0.35091742873191833
AUC of ROC = 0.8345767171374566
AUC of PRC = 0.4794600663609838
min(+P, Se) = 0.4931506849315068
Epoch 00090: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch90.test0.3418450667450585.state
 - 1269s - loss: 0.1761 - val_loss: 0.3418
Epoch 91/100

==>predicting on train


confusion matrix:
[[27194   284]
 [ 1092  2479]]
accuracy = 0.9556829333305359
precision class 0 = 0.9613943099975586
precision class 1 = 0.8972131609916687
recall class 0 = 0.9896644353866577
recall class 1 = 0.6942033171653748
AUC of ROC = 0.9606299025626142
AUC of PRC = 0.8619291283173137
min(+P, Se) = 0.7810137216465975

==>predicting on validation


confusion matrix:
[[2677  109]
 [ 281  155]]
accuracy = 0.8789571523666382
precision class 0 = 0.9050033688545227
precision class 1 = 0.5871211886405945
recall class 0 = 0.9608758091926575
recall class 1 = 0.35550457239151
AUC of ROC = 0.8356016649433274
AUC of PRC = 0.4909734017967754
min(+P, Se) = 0.48873873873873874
Epoch 00091: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch91.test0.3523738236634221.state
 - 1287s - loss: 0.1742 - val_loss: 0.3524
Epoch 92/100

==>predicting on train


confusion matrix:
[[27266   212]
 [ 1200  2371]]
accuracy = 0.954523503780365
precision class 0 = 0.9578444361686707
precision class 1 = 0.9179248809814453
recall class 0 = 0.9922847151756287
recall class 1 = 0.6639596819877625
AUC of ROC = 0.9603046098700196
AUC of PRC = 0.8620155968011188
min(+P, Se) = 0.7874544945393447

==>predicting on validation


confusion matrix:
[[2681  105]
 [ 294  142]]
accuracy = 0.876163899898529
precision class 0 = 0.9011764526367188
precision class 1 = 0.5748987793922424
recall class 0 = 0.9623115658760071
recall class 1 = 0.32568806409835815
AUC of ROC = 0.842837631802525
AUC of PRC = 0.5000761248216397
min(+P, Se) = 0.48623853211009177
Epoch 00092: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch92.test0.34211210433155537.state
 - 1282s - loss: 0.1753 - val_loss: 0.3421
Epoch 93/100

==>predicting on train


confusion matrix:
[[27240   238]
 [ 1156  2415]]
accuracy = 0.9551032185554504
precision class 0 = 0.9592900276184082
precision class 1 = 0.9102902412414551
recall class 0 = 0.9913385510444641
recall class 1 = 0.6762811541557312
AUC of ROC = 0.9601113338928571
AUC of PRC = 0.8612392695326367
min(+P, Se) = 0.7866143937272473

==>predicting on validation


confusion matrix:
[[2689   97]
 [ 290  146]]
accuracy = 0.8798882961273193
precision class 0 = 0.9026519060134888
precision class 1 = 0.6008230447769165
recall class 0 = 0.9651830792427063
recall class 1 = 0.3348623812198639
AUC of ROC = 0.8435987275828685
AUC of PRC = 0.4913452829139164
min(+P, Se) = 0.5045871559633027
Epoch 00093: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch93.test0.35493377481906924.state
 - 1280s - loss: 0.1757 - val_loss: 0.3549
Epoch 94/100

==>predicting on train


confusion matrix:
[[27211   267]
 [ 1086  2485]]
accuracy = 0.9564236998558044
precision class 0 = 0.9616213440895081
precision class 1 = 0.9029796719551086
recall class 0 = 0.9902831315994263
recall class 1 = 0.6958835124969482
AUC of ROC = 0.961454400658074
AUC of PRC = 0.862894476164685
min(+P, Se) = 0.7846541584990199

==>predicting on validation


confusion matrix:
[[2669  117]
 [ 283  153]]
accuracy = 0.8758534789085388
precision class 0 = 0.9041327834129333
precision class 1 = 0.5666666626930237
recall class 0 = 0.9580042958259583
recall class 1 = 0.35091742873191833
AUC of ROC = 0.831883862299703
AUC of PRC = 0.49003975290453916
min(+P, Se) = 0.482837528604119
Epoch 00094: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch94.test0.3337888097925855.state
 - 1275s - loss: 0.1748 - val_loss: 0.3338
Epoch 95/100

==>predicting on train


confusion matrix:
[[27305   173]
 [ 1260  2311]]
accuracy = 0.9538471698760986
precision class 0 = 0.9558900594711304
precision class 1 = 0.9303542375564575
recall class 0 = 0.993704080581665
recall class 1 = 0.6471576690673828
AUC of ROC = 0.9609382371098885
AUC of PRC = 0.8611281233064981
min(+P, Se) = 0.7872340425531915

==>predicting on validation


confusion matrix:
[[2695   91]
 [ 294  142]]
accuracy = 0.8805090188980103
precision class 0 = 0.9016393423080444
precision class 1 = 0.6094420552253723
recall class 0 = 0.9673366546630859
recall class 1 = 0.32568806409835815
AUC of ROC = 0.8386262900347083
AUC of PRC = 0.4995687865364166
min(+P, Se) = 0.4966139954853273
Epoch 00095: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch95.test0.33158309708455197.state
 - 1273s - loss: 0.1744 - val_loss: 0.3316
Epoch 96/100

==>predicting on train


confusion matrix:
[[27248   230]
 [ 1196  2375]]
accuracy = 0.9540725946426392
precision class 0 = 0.9579524397850037
precision class 1 = 0.9117082357406616
recall class 0 = 0.9916296601295471
recall class 1 = 0.6650798320770264
AUC of ROC = 0.9611452915801239
AUC of PRC = 0.8595708032349614
min(+P, Se) = 0.7842149454240135

==>predicting on validation


confusion matrix:
[[2680  106]
 [ 287  149]]
accuracy = 0.8780260682106018
precision class 0 = 0.9032692909240723
precision class 1 = 0.5843137502670288
recall class 0 = 0.9619526267051697
recall class 1 = 0.3417431116104126
AUC of ROC = 0.8383332125898167
AUC of PRC = 0.4923121373233404
min(+P, Se) = 0.497737556561086
Epoch 00096: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch96.test0.333897841131184.state
 - 1282s - loss: 0.1756 - val_loss: 0.3339
Epoch 97/100

==>predicting on train


confusion matrix:
[[27262   216]
 [ 1211  2360]]
accuracy = 0.9540404081344604
precision class 0 = 0.9574684500694275
precision class 1 = 0.9161490797996521
recall class 0 = 0.9921391606330872
recall class 1 = 0.6608793139457703
AUC of ROC = 0.9607030600422906
AUC of PRC = 0.8610891208012771
min(+P, Se) = 0.7825965304980415

==>predicting on validation


confusion matrix:
[[2702   84]
 [ 298  138]]
accuracy = 0.8814401030540466
precision class 0 = 0.9006666541099548
precision class 1 = 0.6216216087341309
recall class 0 = 0.9698492288589478
recall class 1 = 0.3165137469768524
AUC of ROC = 0.8342754071800682
AUC of PRC = 0.4991891462798248
min(+P, Se) = 0.5068807339449541
Epoch 00097: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch97.test0.335595065733611.state
 - 1283s - loss: 0.1761 - val_loss: 0.3356
Epoch 98/100

==>predicting on train


confusion matrix:
[[27229   249]
 [ 1118  2453]]
accuracy = 0.9559727907180786
precision class 0 = 0.9605602025985718
precision class 1 = 0.9078460335731506
recall class 0 = 0.9909381866455078
recall class 1 = 0.6869224309921265
AUC of ROC = 0.9602084559631106
AUC of PRC = 0.8641298851848271
min(+P, Se) = 0.7846541584990199

==>predicting on validation


confusion matrix:
[[2682  104]
 [ 278  158]]
accuracy = 0.8814401030540466
precision class 0 = 0.9060810804367065
precision class 1 = 0.6030534505844116
recall class 0 = 0.9626705050468445
recall class 1 = 0.3623853325843811
AUC of ROC = 0.8415019066498943
AUC of PRC = 0.4989372275943793
min(+P, Se) = 0.494279176201373
Epoch 00098: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch98.test0.3438166351104415.state
 - 1284s - loss: 0.1731 - val_loss: 0.3438
Epoch 99/100

==>predicting on train


confusion matrix:
[[27243   235]
 [ 1151  2420]]
accuracy = 0.9553608894348145
precision class 0 = 0.9594632387161255
precision class 1 = 0.9114877581596375
recall class 0 = 0.9914476871490479
recall class 1 = 0.6776813268661499
AUC of ROC = 0.9597576077715103
AUC of PRC = 0.859562887229497
min(+P, Se) = 0.7886338185890257

==>predicting on validation


confusion matrix:
[[2688   98]
 [ 290  146]]
accuracy = 0.8795778751373291
precision class 0 = 0.9026191830635071
precision class 1 = 0.5983606576919556
recall class 0 = 0.9648241400718689
recall class 1 = 0.3348623812198639
AUC of ROC = 0.8445075969625322
AUC of PRC = 0.4955765545694796
min(+P, Se) = 0.49430523917995445
Epoch 00099: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch99.test0.33371145543448677.state
 - 1277s - loss: 0.1765 - val_loss: 0.3337
Epoch 100/100

==>predicting on train


confusion matrix:
[[27259   219]
 [ 1194  2377]]
accuracy = 0.9544913172721863
precision class 0 = 0.9580360651016235
precision class 1 = 0.9156394600868225
recall class 0 = 0.9920299649238586
recall class 1 = 0.6656398773193359
AUC of ROC = 0.9612432442326153
AUC of PRC = 0.864696826800049
min(+P, Se) = 0.7894147297675721

==>predicting on validation


confusion matrix:
[[2701   85]
 [ 292  144]]
accuracy = 0.8829919099807739
precision class 0 = 0.9024389982223511
precision class 1 = 0.6288209557533264
recall class 0 = 0.9694902896881104
recall class 1 = 0.3302752375602722
AUC of ROC = 0.840205285931624
AUC of PRC = 0.49963119462279004
min(+P, Se) = 0.5
Epoch 00100: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch100.test0.3317686117778536.state
 - 1283s - loss: 0.1780 - val_loss: 0.3318
181101.45user 21913.03system 35:34:01elapsed 158%CPU (0avgtext+0avgdata 5333648maxresident)k
0inputs+27520outputs (0major+1383916minor)pagefaults 0swaps
****************14_unit***********
Using TensorFlow backend.
Namespace(batch_norm=False, batch_size=8, beta_1=0.9, data='/home/danfeng/sharmin/anothermimic/mimic3-benchmarks/mimic3models/in_hospital_mortality/../../data/in-hospital-mortality/', depth=2, dim=16, dropout=0.3, epochs=100, imputation='previous', l1=0, l2=0, load_state='', lr=0.001, mode='train', network='mimic3models/keras_models/lstm.py', normalizer_state=None, optimizer='adam', output_dir='mimic3models/in_hospital_mortality', prefix='', rec_dropout=0.0, save_every=1, size_coef=4.0, small_part=False, target_repl_coef=0.0, timestep=1.0, verbose=2)
==> using model mimic3models/keras_models/lstm.py
==> not used params in network class: dict_keys(['small_part', 'beta_1', 'output_dir', 'optimizer', 'save_every', 'normalizer_state', 'data', 'imputation', 'timestep', 'size_coef', 'l2', 'lr', 'verbose', 'mode', 'l1', 'load_state', 'prefix', 'epochs', 'target_repl_coef', 'header', 'network', 'batch_size'])
WARNING:tensorflow:From /home/danfeng/anaconda3/envs/shaenvgpu/lib/python3.5/site-packages/keras/backend/tensorflow_backend.py:1364: calling reduce_any (from tensorflow.python.ops.math_ops) with keep_dims is deprecated and will be removed in a future version.
Instructions for updating:
keep_dims is deprecated, use keepdims instead
WARNING:tensorflow:From /home/danfeng/anaconda3/envs/shaenvgpu/lib/python3.5/site-packages/keras/backend/tensorflow_backend.py:1247: calling reduce_sum (from tensorflow.python.ops.math_ops) with keep_dims is deprecated and will be removed in a future version.
Instructions for updating:
keep_dims is deprecated, use keepdims instead
==> model.final_name: k_lstm.n16.d0.3.dep2.bs8.ts1.0
==> compiling the model
WARNING:tensorflow:From /home/danfeng/anaconda3/envs/shaenvgpu/lib/python3.5/site-packages/keras/backend/tensorflow_backend.py:1349: calling reduce_mean (from tensorflow.python.ops.math_ops) with keep_dims is deprecated and will be removed in a future version.
Instructions for updating:
keep_dims is deprecated, use keepdims instead
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
X (InputLayer)               (None, None, 76)          0         
_________________________________________________________________
masking_1 (Masking)          (None, None, 76)          0         
_________________________________________________________________
bidirectional_1 (Bidirection (None, None, 16)          5440      
_________________________________________________________________
lstm_2 (LSTM)                (None, 16)                2112      
_________________________________________________________________
dropout_1 (Dropout)          (None, 16)                0         
_________________________________________________________________
dense_1 (Dense)              (None, 1)                 17        
=================================================================
Total params: 7,569
Trainable params: 7,569
Non-trainable params: 0
_________________________________________________________________
==> training
Train on 34025 samples, validate on 3222 samples
Epoch 1/100
2020-08-22 13:32:50.307890: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 AVX512F FMA
2020-08-22 13:32:50.494277: I tensorflow/stream_executor/cuda/cuda_gpu_executor.cc:897] successful NUMA node read from SysFS had negative value (-1), but there must be at least one NUMA node, so returning NUMA node zero
2020-08-22 13:32:50.495108: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1405] Found device 0 with properties: 
name: GRID P40-12Q major: 6 minor: 1 memoryClockRate(GHz): 1.531
pciBusID: 0000:00:0a.0
totalMemory: 12.00GiB freeMemory: 1007.86MiB
2020-08-22 13:32:50.495130: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1484] Adding visible gpu devices: 0
2020-08-22 13:32:50.759056: I tensorflow/core/common_runtime/gpu/gpu_device.cc:965] Device interconnect StreamExecutor with strength 1 edge matrix:
2020-08-22 13:32:50.759105: I tensorflow/core/common_runtime/gpu/gpu_device.cc:971]      0 
2020-08-22 13:32:50.759146: I tensorflow/core/common_runtime/gpu/gpu_device.cc:984] 0:   N 
2020-08-22 13:32:50.759349: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1097] Created TensorFlow device (/job:localhost/replica:0/task:0/device:GPU:0 with 720 MB memory) -> physical GPU (device: 0, name: GRID P40-12Q, pci bus id: 0000:00:0a.0, compute capability: 6.1)

==>predicting on train


confusion matrix:
[[29404   762]
 [ 2608  1251]]
accuracy = 0.9009552001953125
precision class 0 = 0.9185305237770081
precision class 1 = 0.621460497379303
recall class 0 = 0.9747397899627686
recall class 1 = 0.32417723536491394
AUC of ROC = 0.8605460728084594
AUC of PRC = 0.5237040461510486
min(+P, Se) = 0.5024617776626069

==>predicting on validation


confusion matrix:
[[2730   56]
 [ 326  110]]
accuracy = 0.8814401030540466
precision class 0 = 0.893324613571167
precision class 1 = 0.6626505851745605
recall class 0 = 0.979899525642395
recall class 1 = 0.25229358673095703
AUC of ROC = 0.8286336663659057
AUC of PRC = 0.486174164489494
min(+P, Se) = 0.49311926605504586
Epoch 00001: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch1.test0.31312904000041797.state
 - 1386s - loss: 0.2880 - val_loss: 0.3131
Epoch 2/100

==>predicting on train


confusion matrix:
[[30052   114]
 [ 2920   939]]
accuracy = 0.9108302593231201
precision class 0 = 0.9114400148391724
precision class 1 = 0.8917378783226013
recall class 0 = 0.9962208867073059
recall class 1 = 0.2433272898197174
AUC of ROC = 0.8844397271952757
AUC of PRC = 0.6178289619939169
min(+P, Se) = 0.5711324177247992

==>predicting on validation


confusion matrix:
[[2754   32]
 [ 362   74]]
accuracy = 0.8777157068252563
precision class 0 = 0.883825421333313
precision class 1 = 0.698113203048706
recall class 0 = 0.9885140061378479
recall class 1 = 0.16972477734088898
AUC of ROC = 0.8397714325230345
AUC of PRC = 0.5084566725235747
min(+P, Se) = 0.4885844748858447
Epoch 00002: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch2.test0.3061227161115848.state
 - 1397s - loss: 0.2584 - val_loss: 0.3061
Epoch 3/100

==>predicting on train


confusion matrix:
[[29910   256]
 [ 2473  1386]]
accuracy = 0.9197942614555359
precision class 0 = 0.9236327409744263
precision class 1 = 0.8440925478935242
recall class 0 = 0.9915136098861694
recall class 1 = 0.3591603934764862
AUC of ROC = 0.8955388802500227
AUC of PRC = 0.6461592466176137
min(+P, Se) = 0.5961139896373057

==>predicting on validation


confusion matrix:
[[2721   65]
 [ 340   96]]
accuracy = 0.8743016719818115
precision class 0 = 0.8889251947402954
precision class 1 = 0.5962733030319214
recall class 0 = 0.9766690731048584
recall class 1 = 0.22018349170684814
AUC of ROC = 0.8372119443877316
AUC of PRC = 0.49436504209425375
min(+P, Se) = 0.4818181818181818
Epoch 00003: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch3.test0.303726151076849.state
 - 1400s - loss: 0.2495 - val_loss: 0.3037
Epoch 4/100

==>predicting on train


confusion matrix:
[[29879   287]
 [ 2329  1530]]
accuracy = 0.9231153726577759
precision class 0 = 0.9276887774467468
precision class 1 = 0.8420473337173462
recall class 0 = 0.9904859662055969
recall class 1 = 0.39647576212882996
AUC of ROC = 0.9026525841797526
AUC of PRC = 0.6710519110494879
min(+P, Se) = 0.6119170984455958

==>predicting on validation


confusion matrix:
[[2715   71]
 [ 327  109]]
accuracy = 0.8764742612838745
precision class 0 = 0.8925049304962158
precision class 1 = 0.605555534362793
recall class 0 = 0.974515438079834
recall class 1 = 0.25
AUC of ROC = 0.8363886931380361
AUC of PRC = 0.4758902607685437
min(+P, Se) = 0.48764044943820223
Epoch 00004: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch4.test0.3208549037982706.state
 - 1394s - loss: 0.2428 - val_loss: 0.3209
Epoch 5/100

==>predicting on train


confusion matrix:
[[29870   296]
 [ 2240  1619]]
accuracy = 0.9254665970802307
precision class 0 = 0.9302397966384888
precision class 1 = 0.8454307913780212
recall class 0 = 0.9901876449584961
recall class 1 = 0.4195387363433838
AUC of ROC = 0.9042839219598863
AUC of PRC = 0.6785648382880607
min(+P, Se) = 0.610002591344908

==>predicting on validation


confusion matrix:
[[2714   72]
 [ 327  109]]
accuracy = 0.876163899898529
precision class 0 = 0.892469584941864
precision class 1 = 0.6022099256515503
recall class 0 = 0.9741564989089966
recall class 1 = 0.25
AUC of ROC = 0.8347133768449062
AUC of PRC = 0.4738301925735822
min(+P, Se) = 0.4724770642201835
Epoch 00005: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch5.test0.3090533194641457.state
 - 1393s - loss: 0.2362 - val_loss: 0.3091
Epoch 6/100

==>predicting on train


confusion matrix:
[[29787   379]
 [ 2098  1761]]
accuracy = 0.9272006154060364
precision class 0 = 0.9342010617256165
precision class 1 = 0.82289719581604
recall class 0 = 0.9874361753463745
recall class 1 = 0.4563358426094055
AUC of ROC = 0.9132653339093864
AUC of PRC = 0.6961962098653431
min(+P, Se) = 0.6353977714433792

==>predicting on validation


confusion matrix:
[[2700   86]
 [ 318  118]]
accuracy = 0.874612033367157
precision class 0 = 0.8946322202682495
precision class 1 = 0.5784313678741455
recall class 0 = 0.969131350517273
recall class 1 = 0.2706421911716461
AUC of ROC = 0.8454296383621909
AUC of PRC = 0.4959482131644825
min(+P, Se) = 0.5022727272727273
Epoch 00006: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch6.test0.3028897478353304.state
 - 1409s - loss: 0.2328 - val_loss: 0.3029
Epoch 7/100

==>predicting on train


confusion matrix:
[[29901   265]
 [ 1994  1865]]
accuracy = 0.9336076378822327
precision class 0 = 0.9374823570251465
precision class 1 = 0.8755868673324585
recall class 0 = 0.9912152886390686
recall class 1 = 0.4832858145236969
AUC of ROC = 0.9227361686686352
AUC of PRC = 0.7295361860285844
min(+P, Se) = 0.6423944026949987

==>predicting on validation


confusion matrix:
[[2706   80]
 [ 332  104]]
accuracy = 0.8721290826797485
precision class 0 = 0.8907175660133362
precision class 1 = 0.5652173757553101
recall class 0 = 0.9712849855422974
recall class 1 = 0.23853211104869843
AUC of ROC = 0.8430364469793266
AUC of PRC = 0.47708245447551423
min(+P, Se) = 0.48409090909090907
Epoch 00007: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch7.test0.31462963885083695.state
 - 1385s - loss: 0.2244 - val_loss: 0.3146
Epoch 8/100

==>predicting on train


confusion matrix:
[[29984   182]
 [ 2243  1616]]
accuracy = 0.9287288784980774
precision class 0 = 0.9303999543190002
precision class 1 = 0.8987764120101929
recall class 0 = 0.9939666986465454
recall class 1 = 0.41876134276390076
AUC of ROC = 0.9273098675194458
AUC of PRC = 0.7338219633146931
min(+P, Se) = 0.6597564135786473

==>predicting on validation


confusion matrix:
[[2722   64]
 [ 340   96]]
accuracy = 0.874612033367157
precision class 0 = 0.8889614343643188
precision class 1 = 0.6000000238418579
recall class 0 = 0.9770280122756958
recall class 1 = 0.22018349170684814
AUC of ROC = 0.8418122723710294
AUC of PRC = 0.48765702536653016
min(+P, Se) = 0.4806378132118451
Epoch 00008: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch8.test0.30705059582424193.state
 - 1389s - loss: 0.2202 - val_loss: 0.3071
Epoch 9/100

==>predicting on train


confusion matrix:
[[29717   449]
 [ 1735  2124]]
accuracy = 0.9358118772506714
precision class 0 = 0.9448365569114685
precision class 1 = 0.8254955410957336
recall class 0 = 0.9851157069206238
recall class 1 = 0.5504016876220703
AUC of ROC = 0.9292154543941249
AUC of PRC = 0.7459722642322806
min(+P, Se) = 0.6753414068539036

==>predicting on validation


confusion matrix:
[[2675  111]
 [ 291  145]]
accuracy = 0.8752327561378479
precision class 0 = 0.9018880724906921
precision class 1 = 0.56640625
recall class 0 = 0.9601579308509827
recall class 1 = 0.33256879448890686
AUC of ROC = 0.8459524029057475
AUC of PRC = 0.4929425706248831
min(+P, Se) = 0.4908675799086758
Epoch 00009: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch9.test0.3130978415405099.state
 - 1389s - loss: 0.2151 - val_loss: 0.3131
Epoch 10/100

==>predicting on train


confusion matrix:
[[29845   321]
 [ 1900  1959]]
accuracy = 0.9347244501113892
precision class 0 = 0.9401480555534363
precision class 1 = 0.8592105507850647
recall class 0 = 0.9893589019775391
recall class 1 = 0.5076444745063782
AUC of ROC = 0.9301767586548007
AUC of PRC = 0.7500216143863176
min(+P, Se) = 0.6753044830266909

==>predicting on validation


confusion matrix:
[[2708   78]
 [ 306  130]]
accuracy = 0.8808193802833557
precision class 0 = 0.8984737992286682
precision class 1 = 0.625
recall class 0 = 0.9720028638839722
recall class 1 = 0.29816514253616333
AUC of ROC = 0.8474968222501762
AUC of PRC = 0.4906947970136729
min(+P, Se) = 0.49321266968325794
Epoch 00010: saving model to mimic3models/in_hospital_mortality/keras_states/k_lstm.n16.d0.3.dep2.bs8.ts1.0.epoch10.test0.3274271784987345.state
 - 1390s - loss: 0.2143 - val_loss: 0.3274
Epoch 11/100
